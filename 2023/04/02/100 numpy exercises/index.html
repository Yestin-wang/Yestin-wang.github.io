<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="100 numpy exercises This is a collection of exercises that have been collected in the numpy mailing list, on stack overflow and in the numpy documentation. The goal of this collection is to offer a qu">
<meta property="og:type" content="article">
<meta property="og:title" content="numpy 100题">
<meta property="og:url" content="http://example.com/2023/04/02/100%20numpy%20exercises/index.html">
<meta property="og:site_name" content="来者可追，往之不谏">
<meta property="og:description" content="100 numpy exercises This is a collection of exercises that have been collected in the numpy mailing list, on stack overflow and in the numpy documentation. The goal of this collection is to offer a qu">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-04-02T14:00:35.819Z">
<meta property="article:modified_time" content="2023-04-02T14:03:53.716Z">
<meta property="article:author" content="Yestin-王">
<meta property="article:tag" content="python">
<meta property="article:tag" content="numpy">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2023/04/02/100%20numpy%20exercises/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>numpy 100题 | 来者可追，往之不谏</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">来者可追，往之不谏</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">努力提升自己</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/02/100%20numpy%20exercises/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yestin-王">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="来者可追，往之不谏">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          numpy 100题
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-04-02 22:00:35 / 修改时间：22:03:53" itemprop="dateCreated datePublished" datetime="2023-04-02T22:00:35+08:00">2023-04-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ML-DL/" itemprop="url" rel="index"><span itemprop="name">ML&DL</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>26k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>47 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1>100 numpy exercises</h1>
<p>This is a collection of exercises that have been collected in the numpy mailing list, on stack<br>
overflow<br>
and in the numpy documentation. The goal of this collection is to offer a quick reference for both old<br>
and new<br>
users but also to provide a set of exercises for those who teach.</p>
<p>If you find an error or think you’ve a better way to<br>
solve some of them, feel<br>
free to open an issue at <a target="_blank" rel="noopener" href="https://github.com/rougier/numpy-100">https://github.com/rougier/numpy-100</a>.<br>
File automatically generated. See the documentation to update questions/answers/hints programmatically.</p>
<span id="more"></span>
<h4 id="1-Import-the-numpy-package-under-the-name-np-★☆☆"><a class="header-anchor" href="#1-Import-the-numpy-package-under-the-name-np-★☆☆">¶</a>1. Import the numpy package under the name <code>np</code> (★☆☆)</h4>
<p><code>hint: import … as</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<h4 id="2-Print-the-numpy-version-and-the-configuration-★☆☆"><a class="header-anchor" href="#2-Print-the-numpy-version-and-the-configuration-★☆☆">¶</a>2. Print the numpy version and the configuration (★☆☆)</h4>
<p><code>hint: np.__version__, np.show_config)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.__version__)</span><br><span class="line">np.show_config()</span><br></pre></td></tr></table></figure>
<h4 id="3-Create-a-null-vector-of-size-10-★☆☆"><a class="header-anchor" href="#3-Create-a-null-vector-of-size-10-★☆☆">¶</a>3. Create a null vector of size 10 (★☆☆)</h4>
<p><code>hint: np.zeros</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="4-How-to-find-the-memory-size-of-any-array-★☆☆"><a class="header-anchor" href="#4-How-to-find-the-memory-size-of-any-array-★☆☆">¶</a>4. How to find the memory size of any array (★☆☆)</h4>
<p><code>hint: size, itemsize</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros((<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d bytes&quot;</span> % (Z.size * Z.itemsize))</span><br></pre></td></tr></table></figure>
<h4 id="5-How-to-get-the-documentation-of-the-numpy-add-function-from-the-command-line-★☆☆"><a class="header-anchor" href="#5-How-to-get-the-documentation-of-the-numpy-add-function-from-the-command-line-★☆☆">¶</a>5. How to get the documentation of the numpy add function from the command line? (★☆☆)</h4>
<p><code>hint: np.info</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%run `python -c <span class="string">&quot;import numpy; numpy.info(numpy.add)&quot;</span>`</span><br></pre></td></tr></table></figure>
<h4 id="6-Create-a-null-vector-of-size-10-but-the-fifth-value-which-is-1-★☆☆"><a class="header-anchor" href="#6-Create-a-null-vector-of-size-10-but-the-fifth-value-which-is-1-★☆☆">¶</a>6. Create a null vector of size 10 but the fifth value which is 1 (★☆☆)</h4>
<p><code>hint: array[4]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>)</span><br><span class="line">Z[<span class="number">4</span>] = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="7-Create-a-vector-with-values-ranging-from-10-to-49-★☆☆"><a class="header-anchor" href="#7-Create-a-vector-with-values-ranging-from-10-to-49-★☆☆">¶</a>7. Create a vector with values ranging from 10 to 49 (★☆☆)</h4>
<p><code>hint: arange</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">10</span>,<span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="8-Reverse-a-vector-first-element-becomes-last-★☆☆"><a class="header-anchor" href="#8-Reverse-a-vector-first-element-becomes-last-★☆☆">¶</a>8. Reverse a vector (first element becomes last) (★☆☆)</h4>
<p><code>hint: array[::-1]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">50</span>)</span><br><span class="line">Z = Z[::-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="9-Create-a-3x3-matrix-with-values-ranging-from-0-to-8-★☆☆"><a class="header-anchor" href="#9-Create-a-3x3-matrix-with-values-ranging-from-0-to-8-★☆☆">¶</a>9. Create a 3x3 matrix with values ranging from 0 to 8 (★☆☆)</h4>
<p><code>hint: reshape</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="10-Find-indices-of-non-zero-elements-from-1-2-0-0-4-0-★☆☆"><a class="header-anchor" href="#10-Find-indices-of-non-zero-elements-from-1-2-0-0-4-0-★☆☆">¶</a>10. Find indices of non-zero elements from [1,2,0,0,4,0] (★☆☆)</h4>
<p><code>hint: np.nonzero</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nz = np.nonzero([<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(nz)</span><br></pre></td></tr></table></figure>
<h4 id="11-Create-a-3x3-identity-matrix-★☆☆"><a class="header-anchor" href="#11-Create-a-3x3-identity-matrix-★☆☆">¶</a>11. Create a 3x3 identity matrix (★☆☆)</h4>
<p><code>hint: np.eye</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.eye(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="12-Create-a-3x3x3-array-with-random-values-★☆☆"><a class="header-anchor" href="#12-Create-a-3x3x3-array-with-random-values-★☆☆">¶</a>12. Create a 3x3x3 array with random values (★☆☆)</h4>
<p><code>hint: np.random.random</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="13-Create-a-10x10-array-with-random-values-and-find-the-minimum-and-maximum-values-★☆☆"><a class="header-anchor" href="#13-Create-a-10x10-array-with-random-values-and-find-the-minimum-and-maximum-values-★☆☆">¶</a>13. Create a 10x10 array with random values and find the minimum and maximum values (★☆☆)</h4>
<p><code>hint: min, max</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">Zmin, Zmax = Z.<span class="built_in">min</span>(), Z.<span class="built_in">max</span>()</span><br><span class="line"><span class="built_in">print</span>(Zmin, Zmax)</span><br></pre></td></tr></table></figure>
<h4 id="14-Create-a-random-vector-of-size-30-and-find-the-mean-value-★☆☆"><a class="header-anchor" href="#14-Create-a-random-vector-of-size-30-and-find-the-mean-value-★☆☆">¶</a>14. Create a random vector of size 30 and find the mean value (★☆☆)</h4>
<p><code>hint: mean</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random(<span class="number">30</span>)</span><br><span class="line">m = Z.mean()</span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure>
<h4 id="15-Create-a-2d-array-with-1-on-the-border-and-0-inside-★☆☆"><a class="header-anchor" href="#15-Create-a-2d-array-with-1-on-the-border-and-0-inside-★☆☆">¶</a>15. Create a 2d array with 1 on the border and 0 inside (★☆☆)</h4>
<p><code>hint: array[1:-1, 1:-1]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.ones((<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">Z[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="16-How-to-add-a-border-filled-with-0’s-around-an-existing-array-★☆☆"><a class="header-anchor" href="#16-How-to-add-a-border-filled-with-0’s-around-an-existing-array-★☆☆">¶</a>16. How to add a border (filled with 0’s) around an existing array? (★☆☆)</h4>
<p><code>hint: np.pad</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Z = np.ones((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">Z = np.pad(Z, pad_width=<span class="number">1</span>, mode=<span class="string">&#x27;constant&#x27;</span>, constant_values=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using fancy indexing</span></span><br><span class="line">Z[:, [<span class="number">0</span>, -<span class="number">1</span>]] = <span class="number">0</span></span><br><span class="line">Z[[<span class="number">0</span>, -<span class="number">1</span>], :] = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="17-What-is-the-result-of-the-following-expression-★☆☆"><a class="header-anchor" href="#17-What-is-the-result-of-the-following-expression-★☆☆">¶</a>17. What is the result of the following expression? (★☆☆)</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> * np.nan</span><br><span class="line">np.nan == np.nan</span><br><span class="line">np.inf &gt; np.nan</span><br><span class="line">np.nan - np.nan</span><br><span class="line">np.nan <span class="keyword">in</span> <span class="built_in">set</span>([np.nan])</span><br><span class="line"><span class="number">0.3</span> == <span class="number">3</span> * <span class="number">0.1</span></span><br></pre></td></tr></table></figure>
<p><code>hint: NaN = not a number, inf = infinity</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">0</span> * np.nan)</span><br><span class="line"><span class="built_in">print</span>(np.nan == np.nan)</span><br><span class="line"><span class="built_in">print</span>(np.inf &gt; np.nan)</span><br><span class="line"><span class="built_in">print</span>(np.nan - np.nan)</span><br><span class="line"><span class="built_in">print</span>(np.nan <span class="keyword">in</span> <span class="built_in">set</span>([np.nan]))</span><br><span class="line"><span class="built_in">print</span>(<span class="number">0.3</span> == <span class="number">3</span> * <span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="18-Create-a-5x5-matrix-with-values-1-2-3-4-just-below-the-diagonal-★☆☆"><a class="header-anchor" href="#18-Create-a-5x5-matrix-with-values-1-2-3-4-just-below-the-diagonal-★☆☆">¶</a>18. Create a 5x5 matrix with values 1,2,3,4 just below the diagonal (★☆☆)</h4>
<p><code>hint: np.diag</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.diag(<span class="number">1</span>+np.arange(<span class="number">4</span>),k=-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="19-Create-a-8x8-matrix-and-fill-it-with-a-checkerboard-pattern-★☆☆"><a class="header-anchor" href="#19-Create-a-8x8-matrix-and-fill-it-with-a-checkerboard-pattern-★☆☆">¶</a>19. Create a 8x8 matrix and fill it with a checkerboard pattern (★☆☆)</h4>
<p><code>hint: array[::2]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros((<span class="number">8</span>,<span class="number">8</span>),dtype=<span class="built_in">int</span>)</span><br><span class="line">Z[<span class="number">1</span>::<span class="number">2</span>,::<span class="number">2</span>] = <span class="number">1</span></span><br><span class="line">Z[::<span class="number">2</span>,<span class="number">1</span>::<span class="number">2</span>] = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Alternative solution: Using reshaping</span></span><br><span class="line">arr = np.ones(<span class="number">64</span>,dtype=<span class="built_in">int</span>)</span><br><span class="line">arr[::<span class="number">2</span>]=<span class="number">0</span></span><br><span class="line">arr = arr.reshape((<span class="number">8</span>,<span class="number">8</span>))</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br></pre></td></tr></table></figure>
<h4 id="20-Consider-a-6-7-8-shape-array-what-is-the-index-x-y-z-of-the-100th-element-★☆☆"><a class="header-anchor" href="#20-Consider-a-6-7-8-shape-array-what-is-the-index-x-y-z-of-the-100th-element-★☆☆">¶</a>20. Consider a (6,7,8) shape array, what is the index (x,y,z) of the 100th element? (★☆☆)</h4>
<p><code>hint: np.unravel_index</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.unravel_index(<span class="number">99</span>,(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)))</span><br></pre></td></tr></table></figure>
<h4 id="21-Create-a-checkerboard-8x8-matrix-using-the-tile-function-★☆☆"><a class="header-anchor" href="#21-Create-a-checkerboard-8x8-matrix-using-the-tile-function-★☆☆">¶</a>21. Create a checkerboard 8x8 matrix using the tile function (★☆☆)</h4>
<p><code>hint: np.tile</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.tile( np.array([[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>]]), (<span class="number">4</span>,<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="22-Normalize-a-5x5-random-matrix-★☆☆"><a class="header-anchor" href="#22-Normalize-a-5x5-random-matrix-★☆☆">¶</a>22. Normalize a 5x5 random matrix (★☆☆)</h4>
<p><code>hint: (x -mean)/std</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">Z = (Z - np.mean (Z)) / (np.std (Z))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="23-Create-a-custom-dtype-that-describes-a-color-as-four-unsigned-bytes-RGBA-★☆☆"><a class="header-anchor" href="#23-Create-a-custom-dtype-that-describes-a-color-as-four-unsigned-bytes-RGBA-★☆☆">¶</a>23. Create a custom dtype that describes a color as four unsigned bytes (RGBA) (★☆☆)</h4>
<p><code>hint: np.dtype</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">color = np.dtype([(<span class="string">&quot;r&quot;</span>, np.ubyte),</span><br><span class="line">                  (<span class="string">&quot;g&quot;</span>, np.ubyte),</span><br><span class="line">                  (<span class="string">&quot;b&quot;</span>, np.ubyte),</span><br><span class="line">                  (<span class="string">&quot;a&quot;</span>, np.ubyte)])</span><br></pre></td></tr></table></figure>
<h4 id="24-Multiply-a-5x3-matrix-by-a-3x2-matrix-real-matrix-product-★☆☆"><a class="header-anchor" href="#24-Multiply-a-5x3-matrix-by-a-3x2-matrix-real-matrix-product-★☆☆">¶</a>24. Multiply a 5x3 matrix by a 3x2 matrix (real matrix product) (★☆☆)</h4>
<p><code>hint:</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.dot(np.ones((<span class="number">5</span>,<span class="number">3</span>)), np.ones((<span class="number">3</span>,<span class="number">2</span>)))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Alternative solution, in Python 3.5 and above</span></span><br><span class="line">Z = np.ones((<span class="number">5</span>,<span class="number">3</span>)) @ np.ones((<span class="number">3</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="25-Given-a-1D-array-negate-all-elements-which-are-between-3-and-8-in-place-★☆☆"><a class="header-anchor" href="#25-Given-a-1D-array-negate-all-elements-which-are-between-3-and-8-in-place-★☆☆">¶</a>25. Given a 1D array, negate all elements which are between 3 and 8, in place. (★☆☆)</h4>
<p><code>hint: &gt;, &lt;</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Evgeni Burovski</span></span><br><span class="line"></span><br><span class="line">Z = np.arange(<span class="number">11</span>)</span><br><span class="line">Z[(<span class="number">3</span> &lt; Z) &amp; (Z &lt; <span class="number">8</span>)] *= -<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="26-What-is-the-output-of-the-following-script-★☆☆"><a class="header-anchor" href="#26-What-is-the-output-of-the-following-script-★☆☆">¶</a>26. What is the output of the following script? (★☆☆)</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Jake VanderPlas</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(<span class="built_in">range</span>(<span class="number">5</span>),-<span class="number">1</span>))</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(<span class="built_in">range</span>(<span class="number">5</span>),-<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p><code>hint: np.sum</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Jake VanderPlas</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(<span class="built_in">range</span>(<span class="number">5</span>),-<span class="number">1</span>))</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(<span class="built_in">range</span>(<span class="number">5</span>),-<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h4 id="27-Consider-an-integer-vector-Z-which-of-these-expressions-are-legal-★☆☆"><a class="header-anchor" href="#27-Consider-an-integer-vector-Z-which-of-these-expressions-are-legal-★☆☆">¶</a>27. Consider an integer vector Z, which of these expressions are legal? (★☆☆)</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z**Z</span><br><span class="line"><span class="number">2</span> &lt;&lt; Z &gt;&gt; <span class="number">2</span></span><br><span class="line">Z &lt;- Z</span><br><span class="line"><span class="number">1j</span>*Z</span><br><span class="line">Z/<span class="number">1</span>/<span class="number">1</span></span><br><span class="line">Z&lt;Z&gt;Z</span><br></pre></td></tr></table></figure>
<p><code>No hints provided...</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z**Z</span><br><span class="line"><span class="number">2</span> &lt;&lt; Z &gt;&gt; <span class="number">2</span></span><br><span class="line">Z &lt;- Z</span><br><span class="line"><span class="number">1j</span>*Z</span><br><span class="line">Z/<span class="number">1</span>/<span class="number">1</span></span><br><span class="line">Z&lt;Z&gt;Z</span><br></pre></td></tr></table></figure>
<h4 id="28-What-are-the-result-of-the-following-expressions-★☆☆"><a class="header-anchor" href="#28-What-are-the-result-of-the-following-expressions-★☆☆">¶</a>28. What are the result of the following expressions? (★☆☆)</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.array(<span class="number">0</span>) / np.array(<span class="number">0</span>)</span><br><span class="line">np.array(<span class="number">0</span>) // np.array(<span class="number">0</span>)</span><br><span class="line">np.array([np.nan]).astype(<span class="built_in">int</span>).astype(<span class="built_in">float</span>)</span><br></pre></td></tr></table></figure>
<p><code>No hints provided...</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.array(<span class="number">0</span>) / np.array(<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(np.array(<span class="number">0</span>) // np.array(<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(np.array([np.nan]).astype(<span class="built_in">int</span>).astype(<span class="built_in">float</span>))</span><br></pre></td></tr></table></figure>
<h4 id="29-How-to-round-away-from-zero-a-float-array-★☆☆"><a class="header-anchor" href="#29-How-to-round-away-from-zero-a-float-array-★☆☆">¶</a>29. How to round away from zero a float array ? (★☆☆)</h4>
<p><code>hint: np.uniform, np.copysign, np.ceil, np.abs, np.where</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Charles R Harris</span></span><br><span class="line"></span><br><span class="line">Z = np.random.uniform(-<span class="number">10</span>,+<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(np.copysign(np.ceil(np.<span class="built_in">abs</span>(Z)), Z))</span><br><span class="line"></span><br><span class="line"><span class="comment"># More readable but less efficient</span></span><br><span class="line"><span class="built_in">print</span>(np.where(Z&gt;<span class="number">0</span>, np.ceil(Z), np.floor(Z)))</span><br></pre></td></tr></table></figure>
<h4 id="30-How-to-find-common-values-between-two-arrays-★☆☆"><a class="header-anchor" href="#30-How-to-find-common-values-between-two-arrays-★☆☆">¶</a>30. How to find common values between two arrays? (★☆☆)</h4>
<p><code>hint: np.intersect1d</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z1 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">Z2 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(np.intersect1d(Z1,Z2))</span><br></pre></td></tr></table></figure>
<h4 id="31-How-to-ignore-all-numpy-warnings-not-recommended-★☆☆"><a class="header-anchor" href="#31-How-to-ignore-all-numpy-warnings-not-recommended-★☆☆">¶</a>31. How to ignore all numpy warnings (not recommended)? (★☆☆)</h4>
<p><code>hint: np.seterr, np.errstate</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Suicide mode on</span></span><br><span class="line">defaults = np.seterr(<span class="built_in">all</span>=<span class="string">&quot;ignore&quot;</span>)</span><br><span class="line">Z = np.ones(<span class="number">1</span>) / <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Back to sanity</span></span><br><span class="line">_ = np.seterr(**defaults)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Equivalently with a context manager</span></span><br><span class="line"><span class="keyword">with</span> np.errstate(<span class="built_in">all</span>=<span class="string">&quot;ignore&quot;</span>):</span><br><span class="line">    np.arange(<span class="number">3</span>) / <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h4 id="32-Is-the-following-expressions-true-★☆☆"><a class="header-anchor" href="#32-Is-the-following-expressions-true-★☆☆">¶</a>32. Is the following expressions true? (★☆☆)</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sqrt(-<span class="number">1</span>) == np.emath.sqrt(-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p><code>hint: imaginary number</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sqrt(-<span class="number">1</span>) == np.emath.sqrt(-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="33-How-to-get-the-dates-of-yesterday-today-and-tomorrow-★☆☆"><a class="header-anchor" href="#33-How-to-get-the-dates-of-yesterday-today-and-tomorrow-★☆☆">¶</a>33. How to get the dates of yesterday, today and tomorrow? (★☆☆)</h4>
<p><code>hint: np.datetime64, np.timedelta64</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yesterday = np.datetime64(<span class="string">&#x27;today&#x27;</span>) - np.timedelta64(<span class="number">1</span>)</span><br><span class="line">today     = np.datetime64(<span class="string">&#x27;today&#x27;</span>)</span><br><span class="line">tomorrow  = np.datetime64(<span class="string">&#x27;today&#x27;</span>) + np.timedelta64(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="34-How-to-get-all-the-dates-corresponding-to-the-month-of-July-2016-★★☆"><a class="header-anchor" href="#34-How-to-get-all-the-dates-corresponding-to-the-month-of-July-2016-★★☆">¶</a>34. How to get all the dates corresponding to the month of July 2016? (★★☆)</h4>
<p><code>hint: np.arange(dtype=datetime64['D'])</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="string">&#x27;2016-07&#x27;</span>, <span class="string">&#x27;2016-08&#x27;</span>, dtype=<span class="string">&#x27;datetime64[D]&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="35-How-to-compute-A-B-A-2-in-place-without-copy-★★☆"><a class="header-anchor" href="#35-How-to-compute-A-B-A-2-in-place-without-copy-★★☆">¶</a>35. How to compute ((A+B)*(-A/2)) in place (without copy)? (★★☆)</h4>
<p><code>hint: np.add(out=), np.negative(out=), np.multiply(out=), np.divide(out=)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A = np.ones(<span class="number">3</span>)*<span class="number">1</span></span><br><span class="line">B = np.ones(<span class="number">3</span>)*<span class="number">2</span></span><br><span class="line">np.add(A,B,out=B)</span><br><span class="line">np.divide(A,<span class="number">2</span>,out=A)</span><br><span class="line">np.negative(A,out=A)</span><br><span class="line">np.multiply(A,B,out=A)</span><br></pre></td></tr></table></figure>
<h4 id="36-Extract-the-integer-part-of-a-random-array-of-positive-numbers-using-4-different-methods-★★☆"><a class="header-anchor" href="#36-Extract-the-integer-part-of-a-random-array-of-positive-numbers-using-4-different-methods-★★☆">¶</a>36. Extract the integer part of a random array of positive numbers using 4 different methods (★★☆)</h4>
<p><code>hint: %, np.floor, astype, np.trunc</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.uniform(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Z - Z%<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(Z // <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(np.floor(Z))</span><br><span class="line"><span class="built_in">print</span>(Z.astype(<span class="built_in">int</span>))</span><br><span class="line"><span class="built_in">print</span>(np.trunc(Z))</span><br></pre></td></tr></table></figure>
<h4 id="37-Create-a-5x5-matrix-with-row-values-ranging-from-0-to-4-★★☆"><a class="header-anchor" href="#37-Create-a-5x5-matrix-with-row-values-ranging-from-0-to-4-★★☆">¶</a>37. Create a 5x5 matrix with row values ranging from 0 to 4 (★★☆)</h4>
<p><code>hint: np.arange</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">Z += np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># without broadcasting</span></span><br><span class="line">Z = np.tile(np.arange(<span class="number">0</span>, <span class="number">5</span>), (<span class="number">5</span>,<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="38-Consider-a-generator-function-that-generates-10-integers-and-use-it-to-build-an-array-★☆☆"><a class="header-anchor" href="#38-Consider-a-generator-function-that-generates-10-integers-and-use-it-to-build-an-array-★☆☆">¶</a>38. Consider a generator function that generates 10 integers and use it to build an array (★☆☆)</h4>
<p><code>hint: np.fromiter</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">generate</span>():</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="keyword">yield</span> x</span><br><span class="line">Z = np.fromiter(generate(),dtype=<span class="built_in">float</span>,count=-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="39-Create-a-vector-of-size-10-with-values-ranging-from-0-to-1-both-excluded-★★☆"><a class="header-anchor" href="#39-Create-a-vector-of-size-10-with-values-ranging-from-0-to-1-both-excluded-★★☆">¶</a>39. Create a vector of size 10 with values ranging from 0 to 1, both excluded (★★☆)</h4>
<p><code>hint: np.linspace</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">11</span>,endpoint=<span class="literal">False</span>)[<span class="number">1</span>:]</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="40-Create-a-random-vector-of-size-10-and-sort-it-★★☆"><a class="header-anchor" href="#40-Create-a-random-vector-of-size-10-and-sort-it-★★☆">¶</a>40. Create a random vector of size 10 and sort it (★★☆)</h4>
<p><code>hint: sort</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random(<span class="number">10</span>)</span><br><span class="line">Z.sort()</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="41-How-to-sum-a-small-array-faster-than-np-sum-★★☆"><a class="header-anchor" href="#41-How-to-sum-a-small-array-faster-than-np-sum-★★☆">¶</a>41. How to sum a small array faster than np.sum? (★★☆)</h4>
<p><code>hint: np.add.reduce</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Evgeni Burovski</span></span><br><span class="line"></span><br><span class="line">Z = np.arange(<span class="number">10</span>)</span><br><span class="line">np.add.reduce(Z)</span><br></pre></td></tr></table></figure>
<h4 id="42-Consider-two-random-array-A-and-B-check-if-they-are-equal-★★☆"><a class="header-anchor" href="#42-Consider-two-random-array-A-and-B-check-if-they-are-equal-★★☆">¶</a>42. Consider two random array A and B, check if they are equal (★★☆)</h4>
<p><code>hint: np.allclose, np.array_equal</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">A = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">B = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Assuming identical shape of the arrays and a tolerance for the comparison of values</span></span><br><span class="line">equal = np.allclose(A,B)</span><br><span class="line"><span class="built_in">print</span>(equal)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Checking both the shape and the element values, no tolerance (values have to be exactly equal)</span></span><br><span class="line">equal = np.array_equal(A,B)</span><br><span class="line"><span class="built_in">print</span>(equal)</span><br></pre></td></tr></table></figure>
<h4 id="43-Make-an-array-immutable-read-only-★★☆"><a class="header-anchor" href="#43-Make-an-array-immutable-read-only-★★☆">¶</a>43. Make an array immutable (read-only) (★★☆)</h4>
<p><code>hint: flags.writeable</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>)</span><br><span class="line">Z.flags.writeable = <span class="literal">False</span></span><br><span class="line">Z[<span class="number">0</span>] = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="44-Consider-a-random-10x2-matrix-representing-cartesian-coordinates-convert-them-to-polar-coordinates-★★☆"><a class="header-anchor" href="#44-Consider-a-random-10x2-matrix-representing-cartesian-coordinates-convert-them-to-polar-coordinates-★★☆">¶</a>44. Consider a random 10x2 matrix representing cartesian coordinates, convert them to polar coordinates (★★☆)</h4>
<p><code>hint: np.sqrt, np.arctan2</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">X,Y = Z[:,<span class="number">0</span>], Z[:,<span class="number">1</span>]</span><br><span class="line">R = np.sqrt(X**<span class="number">2</span>+Y**<span class="number">2</span>)</span><br><span class="line">T = np.arctan2(Y,X)</span><br><span class="line"><span class="built_in">print</span>(R)</span><br><span class="line"><span class="built_in">print</span>(T)</span><br></pre></td></tr></table></figure>
<h4 id="45-Create-random-vector-of-size-10-and-replace-the-maximum-value-by-0-★★☆"><a class="header-anchor" href="#45-Create-random-vector-of-size-10-and-replace-the-maximum-value-by-0-★★☆">¶</a>45. Create random vector of size 10 and replace the maximum value by 0 (★★☆)</h4>
<p><code>hint: argmax</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random(<span class="number">10</span>)</span><br><span class="line">Z[Z.argmax()] = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="46-Create-a-structured-array-with-x-and-y-coordinates-covering-the-0-1-x-0-1-area-★★☆"><a class="header-anchor" href="#46-Create-a-structured-array-with-x-and-y-coordinates-covering-the-0-1-x-0-1-area-★★☆">¶</a>46. Create a structured array with <code>x</code> and <code>y</code> coordinates covering the [0,1]x[0,1] area (★★☆)</h4>
<p><code>hint: np.meshgrid</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros((<span class="number">5</span>,<span class="number">5</span>), [(<span class="string">&#x27;x&#x27;</span>,<span class="built_in">float</span>),(<span class="string">&#x27;y&#x27;</span>,<span class="built_in">float</span>)])</span><br><span class="line">Z[<span class="string">&#x27;x&#x27;</span>], Z[<span class="string">&#x27;y&#x27;</span>] = np.meshgrid(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>),</span><br><span class="line">                             np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="47-Given-two-arrays-X-and-Y-construct-the-Cauchy-matrix-C-Cij-1-xi-yj-★★☆"><a class="header-anchor" href="#47-Given-two-arrays-X-and-Y-construct-the-Cauchy-matrix-C-Cij-1-xi-yj-★★☆">¶</a>47. Given two arrays, X and Y, construct the Cauchy matrix C (Cij =1/(xi - yj)) (★★☆)</h4>
<p><code>hint: np.subtract.outer</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Evgeni Burovski</span></span><br><span class="line"></span><br><span class="line">X = np.arange(<span class="number">8</span>)</span><br><span class="line">Y = X + <span class="number">0.5</span></span><br><span class="line">C = <span class="number">1.0</span> / np.subtract.outer(X, Y)</span><br><span class="line"><span class="built_in">print</span>(np.linalg.det(C))</span><br></pre></td></tr></table></figure>
<h4 id="48-Print-the-minimum-and-maximum-representable-value-for-each-numpy-scalar-type-★★☆"><a class="header-anchor" href="#48-Print-the-minimum-and-maximum-representable-value-for-each-numpy-scalar-type-★★☆">¶</a>48. Print the minimum and maximum representable value for each numpy scalar type (★★☆)</h4>
<p><code>hint: np.iinfo, np.finfo, eps</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> dtype <span class="keyword">in</span> [np.int8, np.int32, np.int64]:</span><br><span class="line">   <span class="built_in">print</span>(np.iinfo(dtype).<span class="built_in">min</span>)</span><br><span class="line">   <span class="built_in">print</span>(np.iinfo(dtype).<span class="built_in">max</span>)</span><br><span class="line"><span class="keyword">for</span> dtype <span class="keyword">in</span> [np.float32, np.float64]:</span><br><span class="line">   <span class="built_in">print</span>(np.finfo(dtype).<span class="built_in">min</span>)</span><br><span class="line">   <span class="built_in">print</span>(np.finfo(dtype).<span class="built_in">max</span>)</span><br><span class="line">   <span class="built_in">print</span>(np.finfo(dtype).eps)</span><br></pre></td></tr></table></figure>
<h4 id="49-How-to-print-all-the-values-of-an-array-★★☆"><a class="header-anchor" href="#49-How-to-print-all-the-values-of-an-array-★★☆">¶</a>49. How to print all the values of an array? (★★☆)</h4>
<p><code>hint: np.set_printoptions</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold=<span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>))</span><br><span class="line">Z = np.zeros((<span class="number">40</span>,<span class="number">40</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="50-How-to-find-the-closest-value-to-a-given-scalar-in-a-vector-★★☆"><a class="header-anchor" href="#50-How-to-find-the-closest-value-to-a-given-scalar-in-a-vector-★★☆">¶</a>50. How to find the closest value (to a given scalar) in a vector? (★★☆)</h4>
<p><code>hint: argmin</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">100</span>)</span><br><span class="line">v = np.random.uniform(<span class="number">0</span>,<span class="number">100</span>)</span><br><span class="line">index = (np.<span class="built_in">abs</span>(Z-v)).argmin()</span><br><span class="line"><span class="built_in">print</span>(Z[index])</span><br></pre></td></tr></table></figure>
<h4 id="51-Create-a-structured-array-representing-a-position-x-y-and-a-color-r-g-b-★★☆"><a class="header-anchor" href="#51-Create-a-structured-array-representing-a-position-x-y-and-a-color-r-g-b-★★☆">¶</a>51. Create a structured array representing a position (x,y) and a color (r,g,b) (★★☆)</h4>
<p><code>hint: dtype</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>, [ (<span class="string">&#x27;position&#x27;</span>, [ (<span class="string">&#x27;x&#x27;</span>, <span class="built_in">float</span>, <span class="number">1</span>),</span><br><span class="line">                                  (<span class="string">&#x27;y&#x27;</span>, <span class="built_in">float</span>, <span class="number">1</span>)]),</span><br><span class="line">                   (<span class="string">&#x27;color&#x27;</span>,    [ (<span class="string">&#x27;r&#x27;</span>, <span class="built_in">float</span>, <span class="number">1</span>),</span><br><span class="line">                                  (<span class="string">&#x27;g&#x27;</span>, <span class="built_in">float</span>, <span class="number">1</span>),</span><br><span class="line">                                  (<span class="string">&#x27;b&#x27;</span>, <span class="built_in">float</span>, <span class="number">1</span>)])])</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="52-Consider-a-random-vector-with-shape-100-2-representing-coordinates-find-point-by-point-distances-★★☆"><a class="header-anchor" href="#52-Consider-a-random-vector-with-shape-100-2-representing-coordinates-find-point-by-point-distances-★★☆">¶</a>52. Consider a random vector with shape (100,2) representing coordinates, find point by point distances (★★☆)</h4>
<p><code>hint: np.atleast_2d, T, np.sqrt</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">X,Y = np.atleast_2d(Z[:,<span class="number">0</span>], Z[:,<span class="number">1</span>])</span><br><span class="line">D = np.sqrt( (X-X.T)**<span class="number">2</span> + (Y-Y.T)**<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(D)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Much faster with scipy</span></span><br><span class="line"><span class="keyword">import</span> scipy</span><br><span class="line"><span class="comment"># Thanks Gavin Heverly-Coulson (#issue 1)</span></span><br><span class="line"><span class="keyword">import</span> scipy.spatial</span><br><span class="line"></span><br><span class="line">Z = np.random.random((<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">D = scipy.spatial.distance.cdist(Z,Z)</span><br><span class="line"><span class="built_in">print</span>(D)</span><br></pre></td></tr></table></figure>
<h4 id="53-How-to-convert-a-float-32-bits-array-into-an-integer-32-bits-in-place"><a class="header-anchor" href="#53-How-to-convert-a-float-32-bits-array-into-an-integer-32-bits-in-place">¶</a>53. How to convert a float (32 bits) array into an integer (32 bits) in place?</h4>
<p><code>hint: view and [:] =</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Thanks Vikas (https://stackoverflow.com/a/10622758/5989906)</span></span><br><span class="line"><span class="comment"># &amp; unutbu (https://stackoverflow.com/a/4396247/5989906)</span></span><br><span class="line">Z = (np.random.rand(<span class="number">10</span>)*<span class="number">100</span>).astype(np.float32)</span><br><span class="line">Y = Z.view(np.int32)</span><br><span class="line">Y[:] = Z</span><br><span class="line"><span class="built_in">print</span>(Y)</span><br></pre></td></tr></table></figure>
<h4 id="54-How-to-read-the-following-file-★★☆"><a class="header-anchor" href="#54-How-to-read-the-following-file-★★☆">¶</a>54. How to read the following file? (★★☆)</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1, 2, 3, 4, 5</span><br><span class="line">6,  ,  , 7, 8</span><br><span class="line"> ,  , 9,10,11</span><br></pre></td></tr></table></figure>
<p><code>hint: np.genfromtxt</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> StringIO</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fake file</span></span><br><span class="line">s = StringIO(<span class="string">&#x27;&#x27;&#x27;1, 2, 3, 4, 5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                6,  ,  , 7, 8</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                 ,  , 9,10,11</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>)</span><br><span class="line">Z = np.genfromtxt(s, delimiter=<span class="string">&quot;,&quot;</span>, dtype=np.<span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="55-What-is-the-equivalent-of-enumerate-for-numpy-arrays-★★☆"><a class="header-anchor" href="#55-What-is-the-equivalent-of-enumerate-for-numpy-arrays-★★☆">¶</a>55. What is the equivalent of enumerate for numpy arrays? (★★☆)</h4>
<p><code>hint: np.ndenumerate, np.ndindex</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> index, value <span class="keyword">in</span> np.ndenumerate(Z):</span><br><span class="line">    <span class="built_in">print</span>(index, value)</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> np.ndindex(Z.shape):</span><br><span class="line">    <span class="built_in">print</span>(index, Z[index])</span><br></pre></td></tr></table></figure>
<h4 id="56-Generate-a-generic-2D-Gaussian-like-array-★★☆"><a class="header-anchor" href="#56-Generate-a-generic-2D-Gaussian-like-array-★★☆">¶</a>56. Generate a generic 2D Gaussian-like array (★★☆)</h4>
<p><code>hint: np.meshgrid, np.exp</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X, Y = np.meshgrid(np.linspace(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">10</span>), np.linspace(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">10</span>))</span><br><span class="line">D = np.sqrt(X*X+Y*Y)</span><br><span class="line">sigma, mu = <span class="number">1.0</span>, <span class="number">0.0</span></span><br><span class="line">G = np.exp(-( (D-mu)**<span class="number">2</span> / ( <span class="number">2.0</span> * sigma**<span class="number">2</span> ) ) )</span><br><span class="line"><span class="built_in">print</span>(G)</span><br></pre></td></tr></table></figure>
<h4 id="57-How-to-randomly-place-p-elements-in-a-2D-array-★★☆"><a class="header-anchor" href="#57-How-to-randomly-place-p-elements-in-a-2D-array-★★☆">¶</a>57. How to randomly place p elements in a 2D array? (★★☆)</h4>
<p><code>hint: np.put, np.random.choice</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Divakar</span></span><br><span class="line"></span><br><span class="line">n = <span class="number">10</span></span><br><span class="line">p = <span class="number">3</span></span><br><span class="line">Z = np.zeros((n,n))</span><br><span class="line">np.put(Z, np.random.choice(<span class="built_in">range</span>(n*n), p, replace=<span class="literal">False</span>),<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="58-Subtract-the-mean-of-each-row-of-a-matrix-★★☆"><a class="header-anchor" href="#58-Subtract-the-mean-of-each-row-of-a-matrix-★★☆">¶</a>58. Subtract the mean of each row of a matrix (★★☆)</h4>
<p><code>hint: mean(axis=,keepdims=)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Warren Weckesser</span></span><br><span class="line"></span><br><span class="line">X = np.random.rand(<span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Recent versions of numpy</span></span><br><span class="line">Y = X - X.mean(axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Older versions of numpy</span></span><br><span class="line">Y = X - X.mean(axis=<span class="number">1</span>).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Y)</span><br></pre></td></tr></table></figure>
<h4 id="59-How-to-sort-an-array-by-the-nth-column-★★☆"><a class="header-anchor" href="#59-How-to-sort-an-array-by-the-nth-column-★★☆">¶</a>59. How to sort an array by the nth column? (★★☆)</h4>
<p><code>hint: argsort</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Steve Tjoa</span></span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"><span class="built_in">print</span>(Z[Z[:,<span class="number">1</span>].argsort()])</span><br></pre></td></tr></table></figure>
<h4 id="60-How-to-tell-if-a-given-2D-array-has-null-columns-★★☆"><a class="header-anchor" href="#60-How-to-tell-if-a-given-2D-array-has-null-columns-★★☆">¶</a>60. How to tell if a given 2D array has null columns? (★★☆)</h4>
<p><code>hint: any, ~</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Warren Weckesser</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># null : 0 </span></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">3</span>,(<span class="number">3</span>,<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>((~Z.<span class="built_in">any</span>(axis=<span class="number">0</span>)).<span class="built_in">any</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment"># null : np.nan</span></span><br><span class="line">Z=np.array([</span><br><span class="line">    [<span class="number">0</span>,<span class="number">1</span>,np.nan],</span><br><span class="line">    [<span class="number">1</span>,<span class="number">2</span>,np.nan],</span><br><span class="line">    [<span class="number">4</span>,<span class="number">5</span>,np.nan]</span><br><span class="line">])</span><br><span class="line"><span class="built_in">print</span>(np.isnan(Z).<span class="built_in">all</span>(axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<h4 id="61-Find-the-nearest-value-from-a-given-value-in-an-array-★★☆"><a class="header-anchor" href="#61-Find-the-nearest-value-from-a-given-value-in-an-array-★★☆">¶</a>61. Find the nearest value from a given value in an array (★★☆)</h4>
<p><code>hint: np.abs, argmin, flat</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">z = <span class="number">0.5</span></span><br><span class="line">m = Z.flat[np.<span class="built_in">abs</span>(Z - z).argmin()]</span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure>
<h4 id="62-Considering-two-arrays-with-shape-1-3-and-3-1-how-to-compute-their-sum-using-an-iterator-★★☆"><a class="header-anchor" href="#62-Considering-two-arrays-with-shape-1-3-and-3-1-how-to-compute-their-sum-using-an-iterator-★★☆">¶</a>62. Considering two arrays with shape (1,3) and (3,1), how to compute their sum using an iterator? (★★☆)</h4>
<p><code>hint: np.nditer</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A = np.arange(<span class="number">3</span>).reshape(<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line">B = np.arange(<span class="number">3</span>).reshape(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">it = np.nditer([A,B,<span class="literal">None</span>])</span><br><span class="line"><span class="keyword">for</span> x,y,z <span class="keyword">in</span> it: z[...] = x + y</span><br><span class="line"><span class="built_in">print</span>(it.operands[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<h4 id="63-Create-an-array-class-that-has-a-name-attribute-★★☆"><a class="header-anchor" href="#63-Create-an-array-class-that-has-a-name-attribute-★★☆">¶</a>63. Create an array class that has a name attribute (★★☆)</h4>
<p><code>hint: class method</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NamedArray</span>(np.ndarray):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls, array, name=<span class="string">&quot;no name&quot;</span></span>):</span><br><span class="line">        obj = np.asarray(array).view(cls)</span><br><span class="line">        obj.name = name</span><br><span class="line">        <span class="keyword">return</span> obj</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__array_finalize__</span>(<span class="params">self, obj</span>):</span><br><span class="line">        <span class="keyword">if</span> obj <span class="keyword">is</span> <span class="literal">None</span>: <span class="keyword">return</span></span><br><span class="line">        self.name = <span class="built_in">getattr</span>(obj, <span class="string">&#x27;name&#x27;</span>, <span class="string">&quot;no name&quot;</span>)</span><br><span class="line"></span><br><span class="line">Z = NamedArray(np.arange(<span class="number">10</span>), <span class="string">&quot;range_10&quot;</span>)</span><br><span class="line"><span class="built_in">print</span> (Z.name)</span><br></pre></td></tr></table></figure>
<h4 id="64-Consider-a-given-vector-how-to-add-1-to-each-element-indexed-by-a-second-vector-be-careful-with-repeated-indices-★★★"><a class="header-anchor" href="#64-Consider-a-given-vector-how-to-add-1-to-each-element-indexed-by-a-second-vector-be-careful-with-repeated-indices-★★★">¶</a>64. Consider a given vector, how to add 1 to each element indexed by a second vector (be careful with repeated indices)? (★★★)</h4>
<p><code>hint: np.bincount | np.add.at</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Brett Olsen</span></span><br><span class="line"></span><br><span class="line">Z = np.ones(<span class="number">10</span>)</span><br><span class="line">I = np.random.randint(<span class="number">0</span>,<span class="built_in">len</span>(Z),<span class="number">20</span>)</span><br><span class="line">Z += np.bincount(I, minlength=<span class="built_in">len</span>(Z))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Another solution</span></span><br><span class="line"><span class="comment"># Author: Bartosz Telenczuk</span></span><br><span class="line">np.add.at(Z, I, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="65-How-to-accumulate-elements-of-a-vector-X-to-an-array-F-based-on-an-index-list-I-★★★"><a class="header-anchor" href="#65-How-to-accumulate-elements-of-a-vector-X-to-an-array-F-based-on-an-index-list-I-★★★">¶</a>65. How to accumulate elements of a vector (X) to an array (F) based on an index list (I)? (★★★)</h4>
<p><code>hint: np.bincount</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Alan G Isaac</span></span><br><span class="line"></span><br><span class="line">X = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">I = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">F = np.bincount(I,X)</span><br><span class="line"><span class="built_in">print</span>(F)</span><br></pre></td></tr></table></figure>
<h4 id="66-Considering-a-w-h-3-image-of-dtype-ubyte-compute-the-number-of-unique-colors-★★☆"><a class="header-anchor" href="#66-Considering-a-w-h-3-image-of-dtype-ubyte-compute-the-number-of-unique-colors-★★☆">¶</a>66. Considering a (w,h,3) image of (dtype=ubyte), compute the number of unique colors (★★☆)</h4>
<p><code>hint: np.unique</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Fisher Wang</span></span><br><span class="line"></span><br><span class="line">w, h = <span class="number">256</span>, <span class="number">256</span></span><br><span class="line">I = np.random.randint(<span class="number">0</span>, <span class="number">4</span>, (h, w, <span class="number">3</span>)).astype(np.ubyte)</span><br><span class="line">colors = np.unique(I.reshape(-<span class="number">1</span>, <span class="number">3</span>), axis=<span class="number">0</span>)</span><br><span class="line">n = <span class="built_in">len</span>(colors)</span><br><span class="line"><span class="built_in">print</span>(n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Faster version</span></span><br><span class="line"><span class="comment"># Author: Mark Setchell</span></span><br><span class="line"><span class="comment"># https://stackoverflow.com/a/59671950/2836621</span></span><br><span class="line"></span><br><span class="line">w, h = <span class="number">256</span>, <span class="number">256</span></span><br><span class="line">I = np.random.randint(<span class="number">0</span>,<span class="number">4</span>,(h,w,<span class="number">3</span>), dtype=np.uint8)</span><br><span class="line"></span><br><span class="line"><span class="comment"># View each pixel as a single 24-bit integer, rather than three 8-bit bytes</span></span><br><span class="line">I24 = np.dot(I.astype(np.uint32),[<span class="number">1</span>,<span class="number">256</span>,<span class="number">65536</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Count unique colours</span></span><br><span class="line">n = <span class="built_in">len</span>(np.unique(I24))</span><br><span class="line"><span class="built_in">print</span>(n)</span><br></pre></td></tr></table></figure>
<h4 id="67-Considering-a-four-dimensions-array-how-to-get-sum-over-the-last-two-axis-at-once-★★★"><a class="header-anchor" href="#67-Considering-a-four-dimensions-array-how-to-get-sum-over-the-last-two-axis-at-once-★★★">¶</a>67. Considering a four dimensions array, how to get sum over the last two axis at once? (★★★)</h4>
<p><code>hint: sum(axis=(-2,-1))</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">A = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"><span class="comment"># solution by passing a tuple of axes (introduced in numpy 1.7.0)</span></span><br><span class="line"><span class="built_in">sum</span> = A.<span class="built_in">sum</span>(axis=(-<span class="number">2</span>,-<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br><span class="line"><span class="comment"># solution by flattening the last two dimensions into one</span></span><br><span class="line"><span class="comment"># (useful for functions that don&#x27;t accept tuples for axis argument)</span></span><br><span class="line"><span class="built_in">sum</span> = A.reshape(A.shape[:-<span class="number">2</span>] + (-<span class="number">1</span>,)).<span class="built_in">sum</span>(axis=-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>
<h4 id="68-Considering-a-one-dimensional-vector-D-how-to-compute-means-of-subsets-of-D-using-a-vector-S-of-same-size-describing-subset-indices-★★★"><a class="header-anchor" href="#68-Considering-a-one-dimensional-vector-D-how-to-compute-means-of-subsets-of-D-using-a-vector-S-of-same-size-describing-subset-indices-★★★">¶</a>68. Considering a one-dimensional vector D, how to compute means of subsets of D using a vector S of same size describing subset  indices? (★★★)</h4>
<p><code>hint: np.bincount</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Jaime Fernández del Río</span></span><br><span class="line"></span><br><span class="line">D = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">S = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">D_sums = np.bincount(S, weights=D)</span><br><span class="line">D_counts = np.bincount(S)</span><br><span class="line">D_means = D_sums / D_counts</span><br><span class="line"><span class="built_in">print</span>(D_means)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pandas solution as a reference due to more intuitive code</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="built_in">print</span>(pd.Series(D).groupby(S).mean())</span><br></pre></td></tr></table></figure>
<h4 id="69-How-to-get-the-diagonal-of-a-dot-product-★★★"><a class="header-anchor" href="#69-How-to-get-the-diagonal-of-a-dot-product-★★★">¶</a>69. How to get the diagonal of a dot product? (★★★)</h4>
<p><code>hint: np.diag</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Mathieu Blondel</span></span><br><span class="line"></span><br><span class="line">A = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,(<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">B = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,(<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Slow version</span></span><br><span class="line">np.diag(np.dot(A, B))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fast version</span></span><br><span class="line">np.<span class="built_in">sum</span>(A * B.T, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Faster version</span></span><br><span class="line">np.einsum(<span class="string">&quot;ij,ji-&gt;i&quot;</span>, A, B)</span><br></pre></td></tr></table></figure>
<h4 id="70-Consider-the-vector-1-2-3-4-5-how-to-build-a-new-vector-with-3-consecutive-zeros-interleaved-between-each-value-★★★"><a class="header-anchor" href="#70-Consider-the-vector-1-2-3-4-5-how-to-build-a-new-vector-with-3-consecutive-zeros-interleaved-between-each-value-★★★">¶</a>70. Consider the vector [1, 2, 3, 4, 5], how to build a new vector with 3 consecutive zeros interleaved between each value? (★★★)</h4>
<p><code>hint: array[::4]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Warren Weckesser</span></span><br><span class="line"></span><br><span class="line">Z = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">nz = <span class="number">3</span></span><br><span class="line">Z0 = np.zeros(<span class="built_in">len</span>(Z) + (<span class="built_in">len</span>(Z)-<span class="number">1</span>)*(nz))</span><br><span class="line">Z0[::nz+<span class="number">1</span>] = Z</span><br><span class="line"><span class="built_in">print</span>(Z0)</span><br></pre></td></tr></table></figure>
<h4 id="71-Consider-an-array-of-dimension-5-5-3-how-to-mulitply-it-by-an-array-with-dimensions-5-5-★★★"><a class="header-anchor" href="#71-Consider-an-array-of-dimension-5-5-3-how-to-mulitply-it-by-an-array-with-dimensions-5-5-★★★">¶</a>71. Consider an array of dimension (5,5,3), how to mulitply it by an array with dimensions (5,5)? (★★★)</h4>
<p><code>hint: array[:, :, None]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A = np.ones((<span class="number">5</span>,<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line">B = <span class="number">2</span>*np.ones((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(A * B[:,:,<span class="literal">None</span>])</span><br></pre></td></tr></table></figure>
<h4 id="72-How-to-swap-two-rows-of-an-array-★★★"><a class="header-anchor" href="#72-How-to-swap-two-rows-of-an-array-★★★">¶</a>72. How to swap two rows of an array? (★★★)</h4>
<p><code>hint: array[[]] = array[[]]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Eelco Hoogendoorn</span></span><br><span class="line"></span><br><span class="line">A = np.arange(<span class="number">25</span>).reshape(<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">A[[<span class="number">0</span>,<span class="number">1</span>]] = A[[<span class="number">1</span>,<span class="number">0</span>]]</span><br><span class="line"><span class="built_in">print</span>(A)</span><br></pre></td></tr></table></figure>
<h4 id="73-Consider-a-set-of-10-triplets-describing-10-triangles-with-shared-vertices-find-the-set-of-unique-line-segments-composing-all-the-triangles-★★★"><a class="header-anchor" href="#73-Consider-a-set-of-10-triplets-describing-10-triangles-with-shared-vertices-find-the-set-of-unique-line-segments-composing-all-the-triangles-★★★">¶</a>73. Consider a set of 10 triplets describing 10 triangles (with shared vertices), find the set of unique line segments composing all the  triangles (★★★)</h4>
<p><code>hint: repeat, np.roll, np.sort, view, np.unique</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Nicolas P. Rougier</span></span><br><span class="line"></span><br><span class="line">faces = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,(<span class="number">10</span>,<span class="number">3</span>))</span><br><span class="line">F = np.roll(faces.repeat(<span class="number">2</span>,axis=<span class="number">1</span>),-<span class="number">1</span>,axis=<span class="number">1</span>)</span><br><span class="line">F = F.reshape(<span class="built_in">len</span>(F)*<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">F = np.sort(F,axis=<span class="number">1</span>)</span><br><span class="line">G = F.view( dtype=[(<span class="string">&#x27;p0&#x27;</span>,F.dtype),(<span class="string">&#x27;p1&#x27;</span>,F.dtype)] )</span><br><span class="line">G = np.unique(G)</span><br><span class="line"><span class="built_in">print</span>(G)</span><br></pre></td></tr></table></figure>
<h4 id="74-Given-a-sorted-array-C-that-corresponds-to-a-bincount-how-to-produce-an-array-A-such-that-np-bincount-A-C-★★★"><a class="header-anchor" href="#74-Given-a-sorted-array-C-that-corresponds-to-a-bincount-how-to-produce-an-array-A-such-that-np-bincount-A-C-★★★">¶</a>74. Given a sorted array C that corresponds to a bincount, how to produce an array A such that np.bincount(A) == C? (★★★)</h4>
<p><code>hint: np.repeat</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Jaime Fernández del Río</span></span><br><span class="line"></span><br><span class="line">C = np.bincount([<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">6</span>])</span><br><span class="line">A = np.repeat(np.arange(<span class="built_in">len</span>(C)), C)</span><br><span class="line"><span class="built_in">print</span>(A)</span><br></pre></td></tr></table></figure>
<h4 id="75-How-to-compute-averages-using-a-sliding-window-over-an-array-★★★"><a class="header-anchor" href="#75-How-to-compute-averages-using-a-sliding-window-over-an-array-★★★">¶</a>75. How to compute averages using a sliding window over an array? (★★★)</h4>
<p><code>hint: np.cumsum, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Jaime Fernández del Río</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">moving_average</span>(<span class="params">a, n=<span class="number">3</span></span>) :</span><br><span class="line">    ret = np.cumsum(a, dtype=<span class="built_in">float</span>)</span><br><span class="line">    ret[n:] = ret[n:] - ret[:-n]</span><br><span class="line">    <span class="keyword">return</span> ret[n - <span class="number">1</span>:] / n</span><br><span class="line">Z = np.arange(<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(moving_average(Z, n=<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Jeff Luo (@Jeff1999)</span></span><br><span class="line"><span class="comment"># make sure your NumPy &gt;= 1.20.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> numpy.lib.stride_tricks <span class="keyword">import</span> sliding_window_view</span><br><span class="line"></span><br><span class="line">Z = np.arange(<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(sliding_window_view(Z, window_shape=<span class="number">3</span>).mean(axis=-<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h4 id="76-Consider-a-one-dimensional-array-Z-build-a-two-dimensional-array-whose-first-row-is-Z-0-Z-1-Z-2-and-each-subsequent-row-is-shifted-by-1-last-row-should-be-Z-3-Z-2-Z-1-★★★"><a class="header-anchor" href="#76-Consider-a-one-dimensional-array-Z-build-a-two-dimensional-array-whose-first-row-is-Z-0-Z-1-Z-2-and-each-subsequent-row-is-shifted-by-1-last-row-should-be-Z-3-Z-2-Z-1-★★★">¶</a>76. Consider a one-dimensional array Z, build a two-dimensional array whose first row is (Z[0],Z[1],Z[2]) and each subsequent row is  shifted by 1 (last row should be (Z[-3],Z[-2],Z[-1]) (★★★)</h4>
<p><code>hint: from numpy.lib import stride_tricks, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Joe Kington / Erik Rigtorp</span></span><br><span class="line"><span class="keyword">from</span> numpy.lib <span class="keyword">import</span> stride_tricks</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rolling</span>(<span class="params">a, window</span>):</span><br><span class="line">    shape = (a.size - window + <span class="number">1</span>, window)</span><br><span class="line">    strides = (a.strides[<span class="number">0</span>], a.strides[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">return</span> stride_tricks.as_strided(a, shape=shape, strides=strides)</span><br><span class="line">Z = rolling(np.arange(<span class="number">10</span>), <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Jeff Luo (@Jeff1999)</span></span><br><span class="line"></span><br><span class="line">Z = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(sliding_window_view(Z, window_shape=<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<h4 id="77-How-to-negate-a-boolean-or-to-change-the-sign-of-a-float-inplace-★★★"><a class="header-anchor" href="#77-How-to-negate-a-boolean-or-to-change-the-sign-of-a-float-inplace-★★★">¶</a>77. How to negate a boolean, or to change the sign of a float inplace? (★★★)</h4>
<p><code>hint: np.logical_not, np.negative</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Nathaniel J. Smith</span></span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">100</span>)</span><br><span class="line">np.logical_not(Z, out=Z)</span><br><span class="line"></span><br><span class="line">Z = np.random.uniform(-<span class="number">1.0</span>,<span class="number">1.0</span>,<span class="number">100</span>)</span><br><span class="line">np.negative(Z, out=Z)</span><br></pre></td></tr></table></figure>
<h4 id="78-Consider-2-sets-of-points-P0-P1-describing-lines-2d-and-a-point-p-how-to-compute-distance-from-p-to-each-line-i-P0-i-P1-i-★★★"><a class="header-anchor" href="#78-Consider-2-sets-of-points-P0-P1-describing-lines-2d-and-a-point-p-how-to-compute-distance-from-p-to-each-line-i-P0-i-P1-i-★★★">¶</a>78. Consider 2 sets of points P0,P1 describing lines (2d) and a point p, how to compute distance from p to each line i (P0[i],P1[i])? (★★★)</h4>
<p><code>No hints provided...</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">distance</span>(<span class="params">P0, P1, p</span>):</span><br><span class="line">    T = P1 - P0</span><br><span class="line">    L = (T**<span class="number">2</span>).<span class="built_in">sum</span>(axis=<span class="number">1</span>)</span><br><span class="line">    U = -((P0[:,<span class="number">0</span>]-p[...,<span class="number">0</span>])*T[:,<span class="number">0</span>] + (P0[:,<span class="number">1</span>]-p[...,<span class="number">1</span>])*T[:,<span class="number">1</span>]) / L</span><br><span class="line">    U = U.reshape(<span class="built_in">len</span>(U),<span class="number">1</span>)</span><br><span class="line">    D = P0 + U*T - p</span><br><span class="line">    <span class="keyword">return</span> np.sqrt((D**<span class="number">2</span>).<span class="built_in">sum</span>(axis=<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">P0 = np.random.uniform(-<span class="number">10</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">P1 = np.random.uniform(-<span class="number">10</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">p  = np.random.uniform(-<span class="number">10</span>,<span class="number">10</span>,( <span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(distance(P0, P1, p))</span><br></pre></td></tr></table></figure>
<h4 id="79-Consider-2-sets-of-points-P0-P1-describing-lines-2d-and-a-set-of-points-P-how-to-compute-distance-from-each-point-j-P-j-to-each-line-i-P0-i-P1-i-★★★"><a class="header-anchor" href="#79-Consider-2-sets-of-points-P0-P1-describing-lines-2d-and-a-set-of-points-P-how-to-compute-distance-from-each-point-j-P-j-to-each-line-i-P0-i-P1-i-★★★">¶</a>79. Consider 2 sets of points P0,P1 describing lines (2d) and a set of points P, how to compute distance from each point j (P[j]) to each line i (P0[i],P1[i])? (★★★)</h4>
<p><code>No hints provided...</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Italmassov Kuanysh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># based on distance function from previous question</span></span><br><span class="line">P0 = np.random.uniform(-<span class="number">10</span>, <span class="number">10</span>, (<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">P1 = np.random.uniform(-<span class="number">10</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">p = np.random.uniform(-<span class="number">10</span>, <span class="number">10</span>, (<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(np.array([distance(P0,P1,p_i) <span class="keyword">for</span> p_i <span class="keyword">in</span> p]))</span><br></pre></td></tr></table></figure>
<h4 id="80-Consider-an-arbitrary-array-write-a-function-that-extract-a-subpart-with-a-fixed-shape-and-centered-on-a-given-element-pad-with-a-fill-value-when-necessary-★★★"><a class="header-anchor" href="#80-Consider-an-arbitrary-array-write-a-function-that-extract-a-subpart-with-a-fixed-shape-and-centered-on-a-given-element-pad-with-a-fill-value-when-necessary-★★★">¶</a>80. Consider an arbitrary array, write a function that extract a subpart with a fixed shape and centered on a given element (pad with a <code>fill</code> value when necessary) (★★★)</h4>
<p><code>hint: minimum maximum</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Nicolas Rougier</span></span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">shape = (<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">fill  = <span class="number">0</span></span><br><span class="line">position = (<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">R = np.ones(shape, dtype=Z.dtype)*fill</span><br><span class="line">P  = np.array(<span class="built_in">list</span>(position)).astype(<span class="built_in">int</span>)</span><br><span class="line">Rs = np.array(<span class="built_in">list</span>(R.shape)).astype(<span class="built_in">int</span>)</span><br><span class="line">Zs = np.array(<span class="built_in">list</span>(Z.shape)).astype(<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">R_start = np.zeros((<span class="built_in">len</span>(shape),)).astype(<span class="built_in">int</span>)</span><br><span class="line">R_stop  = np.array(<span class="built_in">list</span>(shape)).astype(<span class="built_in">int</span>)</span><br><span class="line">Z_start = (P-Rs//<span class="number">2</span>)</span><br><span class="line">Z_stop  = (P+Rs//<span class="number">2</span>)+Rs%<span class="number">2</span></span><br><span class="line"></span><br><span class="line">R_start = (R_start - np.minimum(Z_start,<span class="number">0</span>)).tolist()</span><br><span class="line">Z_start = (np.maximum(Z_start,<span class="number">0</span>)).tolist()</span><br><span class="line">R_stop = np.maximum(R_start, (R_stop - np.maximum(Z_stop-Zs,<span class="number">0</span>))).tolist()</span><br><span class="line">Z_stop = (np.minimum(Z_stop,Zs)).tolist()</span><br><span class="line"></span><br><span class="line">r = [<span class="built_in">slice</span>(start,stop) <span class="keyword">for</span> start,stop <span class="keyword">in</span> <span class="built_in">zip</span>(R_start,R_stop)]</span><br><span class="line">z = [<span class="built_in">slice</span>(start,stop) <span class="keyword">for</span> start,stop <span class="keyword">in</span> <span class="built_in">zip</span>(Z_start,Z_stop)]</span><br><span class="line">R[r] = Z[z]</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"><span class="built_in">print</span>(R)</span><br></pre></td></tr></table></figure>
<h4 id="81-Consider-an-array-Z-1-2-3-4-5-6-7-8-9-10-11-12-13-14-how-to-generate-an-array-R-1-2-3-4-2-3-4-5-3-4-5-6-…-11-12-13-14-★★★"><a class="header-anchor" href="#81-Consider-an-array-Z-1-2-3-4-5-6-7-8-9-10-11-12-13-14-how-to-generate-an-array-R-1-2-3-4-2-3-4-5-3-4-5-6-…-11-12-13-14-★★★">¶</a>81. Consider an array Z = [1,2,3,4,5,6,7,8,9,10,11,12,13,14], how to generate an array R = [[1,2,3,4], [2,3,4,5], [3,4,5,6], …, [11,12,13,14]]? (★★★)</h4>
<p><code>hint: stride_tricks.as_strided, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Stefan van der Walt</span></span><br><span class="line"></span><br><span class="line">Z = np.arange(<span class="number">1</span>,<span class="number">15</span>,dtype=np.uint32)</span><br><span class="line">R = stride_tricks.as_strided(Z,(<span class="number">11</span>,<span class="number">4</span>),(<span class="number">4</span>,<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(R)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Jeff Luo (@Jeff1999)</span></span><br><span class="line"></span><br><span class="line">Z = np.arange(<span class="number">1</span>, <span class="number">15</span>, dtype=np.uint32)</span><br><span class="line"><span class="built_in">print</span>(sliding_window_view(Z, window_shape=<span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<h4 id="82-Compute-a-matrix-rank-★★★"><a class="header-anchor" href="#82-Compute-a-matrix-rank-★★★">¶</a>82. Compute a matrix rank (★★★)</h4>
<p><code>hint: np.linalg.svd, np.linalg.matrix_rank</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Stefan van der Walt</span></span><br><span class="line"></span><br><span class="line">Z = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">U, S, V = np.linalg.svd(Z) <span class="comment"># Singular Value Decomposition</span></span><br><span class="line">rank = np.<span class="built_in">sum</span>(S &gt; <span class="number">1e-10</span>)</span><br><span class="line"><span class="built_in">print</span>(rank)</span><br><span class="line"></span><br><span class="line"><span class="comment"># alternative solution:</span></span><br><span class="line"><span class="comment"># Author: Jeff Luo (@Jeff1999)</span></span><br><span class="line"></span><br><span class="line">rank = np.linalg.matrix_rank(Z)</span><br><span class="line"><span class="built_in">print</span>(rank)</span><br></pre></td></tr></table></figure>
<h4 id="83-How-to-find-the-most-frequent-value-in-an-array"><a class="header-anchor" href="#83-How-to-find-the-most-frequent-value-in-an-array">¶</a>83. How to find the most frequent value in an array?</h4>
<p><code>hint: np.bincount, argmax</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(np.bincount(Z).argmax())</span><br></pre></td></tr></table></figure>
<h4 id="84-Extract-all-the-contiguous-3x3-blocks-from-a-random-10x10-matrix-★★★"><a class="header-anchor" href="#84-Extract-all-the-contiguous-3x3-blocks-from-a-random-10x10-matrix-★★★">¶</a>84. Extract all the contiguous 3x3 blocks from a random 10x10 matrix (★★★)</h4>
<p><code>hint: stride_tricks.as_strided, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Chris Barker</span></span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">n = <span class="number">3</span></span><br><span class="line">i = <span class="number">1</span> + (Z.shape[<span class="number">0</span>]-<span class="number">3</span>)</span><br><span class="line">j = <span class="number">1</span> + (Z.shape[<span class="number">1</span>]-<span class="number">3</span>)</span><br><span class="line">C = stride_tricks.as_strided(Z, shape=(i, j, n, n), strides=Z.strides + Z.strides)</span><br><span class="line"><span class="built_in">print</span>(C)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Jeff Luo (@Jeff1999)</span></span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(sliding_window_view(Z, window_shape=(<span class="number">3</span>, <span class="number">3</span>)))</span><br></pre></td></tr></table></figure>
<h4 id="85-Create-a-2D-array-subclass-such-that-Z-i-j-Z-j-i-★★★"><a class="header-anchor" href="#85-Create-a-2D-array-subclass-such-that-Z-i-j-Z-j-i-★★★">¶</a>85. Create a 2D array subclass such that Z[i,j] == Z[j,i] (★★★)</h4>
<p><code>hint: class method</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Eric O. Lebigot</span></span><br><span class="line"><span class="comment"># Note: only works for 2d array and value setting using indices</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Symetric</span>(np.ndarray):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__setitem__</span>(<span class="params">self, index, value</span>):</span><br><span class="line">        i,j = index</span><br><span class="line">        <span class="built_in">super</span>(Symetric, self).__setitem__((i,j), value)</span><br><span class="line">        <span class="built_in">super</span>(Symetric, self).__setitem__((j,i), value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">symetric</span>(<span class="params">Z</span>):</span><br><span class="line">    <span class="keyword">return</span> np.asarray(Z + Z.T - np.diag(Z.diagonal())).view(Symetric)</span><br><span class="line"></span><br><span class="line">S = symetric(np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">5</span>,<span class="number">5</span>)))</span><br><span class="line">S[<span class="number">2</span>,<span class="number">3</span>] = <span class="number">42</span></span><br><span class="line"><span class="built_in">print</span>(S)</span><br></pre></td></tr></table></figure>
<h4 id="86-Consider-a-set-of-p-matrices-wich-shape-n-n-and-a-set-of-p-vectors-with-shape-n-1-How-to-compute-the-sum-of-of-the-p-matrix-products-at-once-result-has-shape-n-1-★★★"><a class="header-anchor" href="#86-Consider-a-set-of-p-matrices-wich-shape-n-n-and-a-set-of-p-vectors-with-shape-n-1-How-to-compute-the-sum-of-of-the-p-matrix-products-at-once-result-has-shape-n-1-★★★">¶</a>86. Consider a set of p matrices wich shape (n,n) and a set of p vectors with shape (n,1). How to compute the sum of of the p matrix products at once? (result has shape (n,1)) (★★★)</h4>
<p><code>hint: np.tensordot</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Stefan van der Walt</span></span><br><span class="line"></span><br><span class="line">p, n = <span class="number">10</span>, <span class="number">20</span></span><br><span class="line">M = np.ones((p,n,n))</span><br><span class="line">V = np.ones((p,n,<span class="number">1</span>))</span><br><span class="line">S = np.tensordot(M, V, axes=[[<span class="number">0</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="built_in">print</span>(S)</span><br><span class="line"></span><br><span class="line"><span class="comment"># It works, because:</span></span><br><span class="line"><span class="comment"># M is (p,n,n)</span></span><br><span class="line"><span class="comment"># V is (p,n,1)</span></span><br><span class="line"><span class="comment"># Thus, summing over the paired axes 0 and 0 (of M and V independently),</span></span><br><span class="line"><span class="comment"># and 2 and 1, to remain with a (n,1) vector.</span></span><br></pre></td></tr></table></figure>
<h4 id="87-Consider-a-16x16-array-how-to-get-the-block-sum-block-size-is-4x4-★★★"><a class="header-anchor" href="#87-Consider-a-16x16-array-how-to-get-the-block-sum-block-size-is-4x4-★★★">¶</a>87. Consider a 16x16 array, how to get the block-sum (block size is 4x4)? (★★★)</h4>
<p><code>hint: np.add.reduceat, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Robert Kern</span></span><br><span class="line"></span><br><span class="line">Z = np.ones((<span class="number">16</span>,<span class="number">16</span>))</span><br><span class="line">k = <span class="number">4</span></span><br><span class="line">S = np.add.reduceat(np.add.reduceat(Z, np.arange(<span class="number">0</span>, Z.shape[<span class="number">0</span>], k), axis=<span class="number">0</span>),</span><br><span class="line">                                       np.arange(<span class="number">0</span>, Z.shape[<span class="number">1</span>], k), axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(S)</span><br><span class="line"></span><br><span class="line"><span class="comment"># alternative solution:</span></span><br><span class="line"><span class="comment"># Author: Sebastian Wallkötter (@FirefoxMetzger)</span></span><br><span class="line"></span><br><span class="line">Z = np.ones((<span class="number">16</span>,<span class="number">16</span>))</span><br><span class="line">k = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">windows = np.lib.stride_tricks.sliding_window_view(Z, (k, k))</span><br><span class="line">S = windows[::k, ::k, ...].<span class="built_in">sum</span>(axis=(-<span class="number">2</span>, -<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Jeff Luo (@Jeff1999)</span></span><br><span class="line"></span><br><span class="line">Z = np.ones((<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line">k = <span class="number">4</span></span><br><span class="line"><span class="built_in">print</span>(sliding_window_view(Z, window_shape=(k, k))[::k, ::k].<span class="built_in">sum</span>(axis=(-<span class="number">2</span>, -<span class="number">1</span>)))</span><br></pre></td></tr></table></figure>
<h4 id="88-How-to-implement-the-Game-of-Life-using-numpy-arrays-★★★"><a class="header-anchor" href="#88-How-to-implement-the-Game-of-Life-using-numpy-arrays-★★★">¶</a>88. How to implement the Game of Life using numpy arrays? (★★★)</h4>
<p><code>No hints provided...</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Nicolas Rougier</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">iterate</span>(<span class="params">Z</span>):</span><br><span class="line">    <span class="comment"># Count neighbours</span></span><br><span class="line">    N = (Z[<span class="number">0</span>:-<span class="number">2</span>,<span class="number">0</span>:-<span class="number">2</span>] + Z[<span class="number">0</span>:-<span class="number">2</span>,<span class="number">1</span>:-<span class="number">1</span>] + Z[<span class="number">0</span>:-<span class="number">2</span>,<span class="number">2</span>:] +</span><br><span class="line">         Z[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">0</span>:-<span class="number">2</span>]                + Z[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">2</span>:] +</span><br><span class="line">         Z[<span class="number">2</span>:  ,<span class="number">0</span>:-<span class="number">2</span>] + Z[<span class="number">2</span>:  ,<span class="number">1</span>:-<span class="number">1</span>] + Z[<span class="number">2</span>:  ,<span class="number">2</span>:])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Apply rules</span></span><br><span class="line">    birth = (N==<span class="number">3</span>) &amp; (Z[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>]==<span class="number">0</span>)</span><br><span class="line">    survive = ((N==<span class="number">2</span>) | (N==<span class="number">3</span>)) &amp; (Z[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>]==<span class="number">1</span>)</span><br><span class="line">    Z[...] = <span class="number">0</span></span><br><span class="line">    Z[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>][birth | survive] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> Z</span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,(<span class="number">50</span>,<span class="number">50</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>): Z = iterate(Z)</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br></pre></td></tr></table></figure>
<h4 id="89-How-to-get-the-n-largest-values-of-an-array-★★★"><a class="header-anchor" href="#89-How-to-get-the-n-largest-values-of-an-array-★★★">¶</a>89. How to get the n largest values of an array (★★★)</h4>
<p><code>hint: np.argsort | np.argpartition</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">10000</span>)</span><br><span class="line">np.random.shuffle(Z)</span><br><span class="line">n = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Slow</span></span><br><span class="line"><span class="built_in">print</span> (Z[np.argsort(Z)[-n:]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fast</span></span><br><span class="line"><span class="built_in">print</span> (Z[np.argpartition(-Z,n)[:n]])</span><br></pre></td></tr></table></figure>
<h4 id="90-Given-an-arbitrary-number-of-vectors-build-the-cartesian-product-every-combinations-of-every-item-★★★"><a class="header-anchor" href="#90-Given-an-arbitrary-number-of-vectors-build-the-cartesian-product-every-combinations-of-every-item-★★★">¶</a>90. Given an arbitrary number of vectors, build the cartesian product (every combinations of every item) (★★★)</h4>
<p><code>hint: np.indices</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Stefan Van der Walt</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cartesian</span>(<span class="params">arrays</span>):</span><br><span class="line">    arrays = [np.asarray(a) <span class="keyword">for</span> a <span class="keyword">in</span> arrays]</span><br><span class="line">    shape = (<span class="built_in">len</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> arrays)</span><br><span class="line"></span><br><span class="line">    ix = np.indices(shape, dtype=<span class="built_in">int</span>)</span><br><span class="line">    ix = ix.reshape(<span class="built_in">len</span>(arrays), -<span class="number">1</span>).T</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n, arr <span class="keyword">in</span> <span class="built_in">enumerate</span>(arrays):</span><br><span class="line">        ix[:, n] = arrays[n][ix[:, n]]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ix</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (cartesian(([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>])))</span><br></pre></td></tr></table></figure>
<h4 id="91-How-to-create-a-record-array-from-a-regular-array-★★★"><a class="header-anchor" href="#91-How-to-create-a-record-array-from-a-regular-array-★★★">¶</a>91. How to create a record array from a regular array? (★★★)</h4>
<p><code>hint: np.core.records.fromarrays</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.array([(<span class="string">&quot;Hello&quot;</span>, <span class="number">2.5</span>, <span class="number">3</span>),</span><br><span class="line">              (<span class="string">&quot;World&quot;</span>, <span class="number">3.6</span>, <span class="number">2</span>)])</span><br><span class="line">R = np.core.records.fromarrays(Z.T,</span><br><span class="line">                               names=<span class="string">&#x27;col1, col2, col3&#x27;</span>,</span><br><span class="line">                               formats = <span class="string">&#x27;S8, f8, i8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(R)</span><br></pre></td></tr></table></figure>
<h4 id="92-Consider-a-large-vector-Z-compute-Z-to-the-power-of-3-using-3-different-methods-★★★"><a class="header-anchor" href="#92-Consider-a-large-vector-Z-compute-Z-to-the-power-of-3-using-3-different-methods-★★★">¶</a>92. Consider a large vector Z, compute Z to the power of 3 using 3 different methods (★★★)</h4>
<p><code>hint: np.power, *, np.einsum</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Ryan G.</span></span><br><span class="line"></span><br><span class="line">x = np.random.rand(<span class="built_in">int</span>(<span class="number">5e7</span>))</span><br><span class="line"></span><br><span class="line">%timeit np.power(x,<span class="number">3</span>)</span><br><span class="line">%timeit x*x*x</span><br><span class="line">%timeit np.einsum(<span class="string">&#x27;i,i,i-&gt;i&#x27;</span>,x,x,x)</span><br></pre></td></tr></table></figure>
<h4 id="93-Consider-two-arrays-A-and-B-of-shape-8-3-and-2-2-How-to-find-rows-of-A-that-contain-elements-of-each-row-of-B-regardless-of-the-order-of-the-elements-in-B-★★★"><a class="header-anchor" href="#93-Consider-two-arrays-A-and-B-of-shape-8-3-and-2-2-How-to-find-rows-of-A-that-contain-elements-of-each-row-of-B-regardless-of-the-order-of-the-elements-in-B-★★★">¶</a>93. Consider two arrays A and B of shape (8,3) and (2,2). How to find rows of A that contain elements of each row of B regardless of the order of the elements in B? (★★★)</h4>
<p><code>hint: np.where</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Gabe Schwartz</span></span><br><span class="line"></span><br><span class="line">A = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">8</span>,<span class="number">3</span>))</span><br><span class="line">B = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">2</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">C = (A[..., np.newaxis, np.newaxis] == B)</span><br><span class="line">rows = np.where(C.<span class="built_in">any</span>((<span class="number">3</span>,<span class="number">1</span>)).<span class="built_in">all</span>(<span class="number">1</span>))[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(rows)</span><br></pre></td></tr></table></figure>
<h4 id="94-Considering-a-10x3-matrix-extract-rows-with-unequal-values-e-g-2-2-3-★★★"><a class="header-anchor" href="#94-Considering-a-10x3-matrix-extract-rows-with-unequal-values-e-g-2-2-3-★★★">¶</a>94. Considering a 10x3 matrix, extract rows with unequal values (e.g. [2,2,3]) (★★★)</h4>
<p><code>No hints provided...</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Robert Kern</span></span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">10</span>,<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(Z)</span><br><span class="line"><span class="comment"># solution for arrays of all dtypes (including string arrays and record arrays)</span></span><br><span class="line">E = np.<span class="built_in">all</span>(Z[:,<span class="number">1</span>:] == Z[:,:-<span class="number">1</span>], axis=<span class="number">1</span>)</span><br><span class="line">U = Z[~E]</span><br><span class="line"><span class="built_in">print</span>(U)</span><br><span class="line"><span class="comment"># soluiton for numerical arrays only, will work for any number of columns in Z</span></span><br><span class="line">U = Z[Z.<span class="built_in">max</span>(axis=<span class="number">1</span>) != Z.<span class="built_in">min</span>(axis=<span class="number">1</span>),:]</span><br><span class="line"><span class="built_in">print</span>(U)</span><br></pre></td></tr></table></figure>
<h4 id="95-Convert-a-vector-of-ints-into-a-matrix-binary-representation-★★★"><a class="header-anchor" href="#95-Convert-a-vector-of-ints-into-a-matrix-binary-representation-★★★">¶</a>95. Convert a vector of ints into a matrix binary representation (★★★)</h4>
<p><code>hint: np.unpackbits</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Warren Weckesser</span></span><br><span class="line"></span><br><span class="line">I = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>])</span><br><span class="line">B = ((I.reshape(-<span class="number">1</span>,<span class="number">1</span>) &amp; (<span class="number">2</span>**np.arange(<span class="number">8</span>))) != <span class="number">0</span>).astype(<span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span>(B[:,::-<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Daniel T. McDonald</span></span><br><span class="line"></span><br><span class="line">I = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>], dtype=np.uint8)</span><br><span class="line"><span class="built_in">print</span>(np.unpackbits(I[:, np.newaxis], axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h4 id="96-Given-a-two-dimensional-array-how-to-extract-unique-rows-★★★"><a class="header-anchor" href="#96-Given-a-two-dimensional-array-how-to-extract-unique-rows-★★★">¶</a>96. Given a two dimensional array, how to extract unique rows? (★★★)</h4>
<p><code>hint: np.ascontiguousarray | np.unique</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Jaime Fernández del Río</span></span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,(<span class="number">6</span>,<span class="number">3</span>))</span><br><span class="line">T = np.ascontiguousarray(Z).view(np.dtype((np.void, Z.dtype.itemsize * Z.shape[<span class="number">1</span>])))</span><br><span class="line">_, idx = np.unique(T, return_index=<span class="literal">True</span>)</span><br><span class="line">uZ = Z[idx]</span><br><span class="line"><span class="built_in">print</span>(uZ)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Andreas Kouzelis</span></span><br><span class="line"><span class="comment"># NumPy &gt;= 1.13</span></span><br><span class="line">uZ = np.unique(Z, axis=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(uZ)</span><br></pre></td></tr></table></figure>
<h4 id="97-Considering-2-vectors-A-B-write-the-einsum-equivalent-of-inner-outer-sum-and-mul-function-★★★"><a class="header-anchor" href="#97-Considering-2-vectors-A-B-write-the-einsum-equivalent-of-inner-outer-sum-and-mul-function-★★★">¶</a>97. Considering 2 vectors A &amp; B, write the einsum equivalent of inner, outer, sum, and mul function (★★★)</h4>
<p><code>hint: np.einsum</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Alex Riley</span></span><br><span class="line"><span class="comment"># Make sure to read: http://ajcr.net/Basic-guide-to-einsum/</span></span><br><span class="line"></span><br><span class="line">A = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">B = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">np.einsum(<span class="string">&#x27;i-&gt;&#x27;</span>, A)       <span class="comment"># np.sum(A)</span></span><br><span class="line">np.einsum(<span class="string">&#x27;i,i-&gt;i&#x27;</span>, A, B) <span class="comment"># A * B</span></span><br><span class="line">np.einsum(<span class="string">&#x27;i,i&#x27;</span>, A, B)    <span class="comment"># np.inner(A, B)</span></span><br><span class="line">np.einsum(<span class="string">&#x27;i,j-&gt;ij&#x27;</span>, A, B)    <span class="comment"># np.outer(A, B)</span></span><br></pre></td></tr></table></figure>
<h4 id="98-Considering-a-path-described-by-two-vectors-X-Y-how-to-sample-it-using-equidistant-samples-★★★"><a class="header-anchor" href="#98-Considering-a-path-described-by-two-vectors-X-Y-how-to-sample-it-using-equidistant-samples-★★★">¶</a>98. Considering a path described by two vectors (X,Y), how to sample it using equidistant samples (★★★)?</h4>
<p><code>hint: np.cumsum, np.interp</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Bas Swinckels</span></span><br><span class="line"></span><br><span class="line">phi = np.arange(<span class="number">0</span>, <span class="number">10</span>*np.pi, <span class="number">0.1</span>)</span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">x = a*phi*np.cos(phi)</span><br><span class="line">y = a*phi*np.sin(phi)</span><br><span class="line"></span><br><span class="line">dr = (np.diff(x)**<span class="number">2</span> + np.diff(y)**<span class="number">2</span>)**<span class="number">.5</span> <span class="comment"># segment lengths</span></span><br><span class="line">r = np.zeros_like(x)</span><br><span class="line">r[<span class="number">1</span>:] = np.cumsum(dr)                <span class="comment"># integrate path</span></span><br><span class="line">r_int = np.linspace(<span class="number">0</span>, r.<span class="built_in">max</span>(), <span class="number">200</span>) <span class="comment"># regular spaced path</span></span><br><span class="line">x_int = np.interp(r_int, r, x)       <span class="comment"># integrate path</span></span><br><span class="line">y_int = np.interp(r_int, r, y)</span><br></pre></td></tr></table></figure>
<h4 id="99-Given-an-integer-n-and-a-2D-array-X-select-from-X-the-rows-which-can-be-interpreted-as-draws-from-a-multinomial-distribution-with-n-degrees-i-e-the-rows-which-only-contain-integers-and-which-sum-to-n-★★★"><a class="header-anchor" href="#99-Given-an-integer-n-and-a-2D-array-X-select-from-X-the-rows-which-can-be-interpreted-as-draws-from-a-multinomial-distribution-with-n-degrees-i-e-the-rows-which-only-contain-integers-and-which-sum-to-n-★★★">¶</a>99. Given an integer n and a 2D array X, select from X the rows which can be interpreted as draws from a multinomial distribution with n degrees, i.e., the rows which only contain integers and which sum to n. (★★★)</h4>
<p><code>hint: np.logical_and.reduce, np.mod</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Evgeni Burovski</span></span><br><span class="line"></span><br><span class="line">X = np.asarray([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">3.0</span>, <span class="number">8.0</span>],</span><br><span class="line">                [<span class="number">2.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>],</span><br><span class="line">                [<span class="number">1.5</span>, <span class="number">2.5</span>, <span class="number">1.0</span>, <span class="number">0.0</span>]])</span><br><span class="line">n = <span class="number">4</span></span><br><span class="line">M = np.logical_and.reduce(np.mod(X, <span class="number">1</span>) == <span class="number">0</span>, axis=-<span class="number">1</span>)</span><br><span class="line">M &amp;= (X.<span class="built_in">sum</span>(axis=-<span class="number">1</span>) == n)</span><br><span class="line"><span class="built_in">print</span>(X[M])</span><br></pre></td></tr></table></figure>
<h4 id="100-Compute-bootstrapped-95-confidence-intervals-for-the-mean-of-a-1D-array-X-i-e-resample-the-elements-of-an-array-with-replacement-N-times-compute-the-mean-of-each-sample-and-then-compute-percentiles-over-the-means-★★★"><a class="header-anchor" href="#100-Compute-bootstrapped-95-confidence-intervals-for-the-mean-of-a-1D-array-X-i-e-resample-the-elements-of-an-array-with-replacement-N-times-compute-the-mean-of-each-sample-and-then-compute-percentiles-over-the-means-★★★">¶</a>100. Compute bootstrapped 95% confidence intervals for the mean of a 1D array X (i.e., resample the elements of an array with replacement N times, compute the mean of each sample, and then compute percentiles over the means). (★★★)</h4>
<p><code>hint: np.percentile</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Author: Jessica B. Hamrick</span></span><br><span class="line"></span><br><span class="line">X = np.random.randn(<span class="number">100</span>) <span class="comment"># random 1D array</span></span><br><span class="line">N = <span class="number">1000</span> <span class="comment"># number of bootstrap samples</span></span><br><span class="line">idx = np.random.randint(<span class="number">0</span>, X.size, (N, X.size))</span><br><span class="line">means = X[idx].mean(axis=<span class="number">1</span>)</span><br><span class="line">confint = np.percentile(means, [<span class="number">2.5</span>, <span class="number">97.5</span>])</span><br><span class="line"><span class="built_in">print</span>(confint)</span><br></pre></td></tr></table></figure>
<pre><code></code></pre>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># python</a>
              <a href="/tags/numpy/" rel="tag"># numpy</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/03/23/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91/" rel="prev" title="哈夫曼树">
      <i class="fa fa-chevron-left"></i> 哈夫曼树
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">100 numpy exercises</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Import-the-numpy-package-under-the-name-np-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">1. Import the numpy package under the name np (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Print-the-numpy-version-and-the-configuration-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.2.</span> <span class="nav-text">2. Print the numpy version and the configuration (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Create-a-null-vector-of-size-10-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.3.</span> <span class="nav-text">3. Create a null vector of size 10 (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-How-to-find-the-memory-size-of-any-array-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.4.</span> <span class="nav-text">4. How to find the memory size of any array (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-How-to-get-the-documentation-of-the-numpy-add-function-from-the-command-line-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.5.</span> <span class="nav-text">5. How to get the documentation of the numpy add function from the command line? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-Create-a-null-vector-of-size-10-but-the-fifth-value-which-is-1-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.6.</span> <span class="nav-text">6. Create a null vector of size 10 but the fifth value which is 1 (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-Create-a-vector-with-values-ranging-from-10-to-49-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.7.</span> <span class="nav-text">7. Create a vector with values ranging from 10 to 49 (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-Reverse-a-vector-first-element-becomes-last-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.8.</span> <span class="nav-text">8. Reverse a vector (first element becomes last) (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-Create-a-3x3-matrix-with-values-ranging-from-0-to-8-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.9.</span> <span class="nav-text">9. Create a 3x3 matrix with values ranging from 0 to 8 (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-Find-indices-of-non-zero-elements-from-1-2-0-0-4-0-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.10.</span> <span class="nav-text">10. Find indices of non-zero elements from [1,2,0,0,4,0] (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-Create-a-3x3-identity-matrix-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.11.</span> <span class="nav-text">11. Create a 3x3 identity matrix (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-Create-a-3x3x3-array-with-random-values-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.12.</span> <span class="nav-text">12. Create a 3x3x3 array with random values (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-Create-a-10x10-array-with-random-values-and-find-the-minimum-and-maximum-values-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.13.</span> <span class="nav-text">13. Create a 10x10 array with random values and find the minimum and maximum values (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-Create-a-random-vector-of-size-30-and-find-the-mean-value-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.14.</span> <span class="nav-text">14. Create a random vector of size 30 and find the mean value (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-Create-a-2d-array-with-1-on-the-border-and-0-inside-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.15.</span> <span class="nav-text">15. Create a 2d array with 1 on the border and 0 inside (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-How-to-add-a-border-filled-with-0%E2%80%99s-around-an-existing-array-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.16.</span> <span class="nav-text">16. How to add a border (filled with 0’s) around an existing array? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-What-is-the-result-of-the-following-expression-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.17.</span> <span class="nav-text">17. What is the result of the following expression? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-Create-a-5x5-matrix-with-values-1-2-3-4-just-below-the-diagonal-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.18.</span> <span class="nav-text">18. Create a 5x5 matrix with values 1,2,3,4 just below the diagonal (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-Create-a-8x8-matrix-and-fill-it-with-a-checkerboard-pattern-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.19.</span> <span class="nav-text">19. Create a 8x8 matrix and fill it with a checkerboard pattern (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-Consider-a-6-7-8-shape-array-what-is-the-index-x-y-z-of-the-100th-element-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.20.</span> <span class="nav-text">20. Consider a (6,7,8) shape array, what is the index (x,y,z) of the 100th element? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#21-Create-a-checkerboard-8x8-matrix-using-the-tile-function-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.21.</span> <span class="nav-text">21. Create a checkerboard 8x8 matrix using the tile function (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-Normalize-a-5x5-random-matrix-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.22.</span> <span class="nav-text">22. Normalize a 5x5 random matrix (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-Create-a-custom-dtype-that-describes-a-color-as-four-unsigned-bytes-RGBA-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.23.</span> <span class="nav-text">23. Create a custom dtype that describes a color as four unsigned bytes (RGBA) (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-Multiply-a-5x3-matrix-by-a-3x2-matrix-real-matrix-product-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.24.</span> <span class="nav-text">24. Multiply a 5x3 matrix by a 3x2 matrix (real matrix product) (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#25-Given-a-1D-array-negate-all-elements-which-are-between-3-and-8-in-place-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.25.</span> <span class="nav-text">25. Given a 1D array, negate all elements which are between 3 and 8, in place. (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-What-is-the-output-of-the-following-script-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.26.</span> <span class="nav-text">26. What is the output of the following script? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#27-Consider-an-integer-vector-Z-which-of-these-expressions-are-legal-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.27.</span> <span class="nav-text">27. Consider an integer vector Z, which of these expressions are legal? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-What-are-the-result-of-the-following-expressions-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.28.</span> <span class="nav-text">28. What are the result of the following expressions? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#29-How-to-round-away-from-zero-a-float-array-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.29.</span> <span class="nav-text">29. How to round away from zero a float array ? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#30-How-to-find-common-values-between-two-arrays-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.30.</span> <span class="nav-text">30. How to find common values between two arrays? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#31-How-to-ignore-all-numpy-warnings-not-recommended-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.31.</span> <span class="nav-text">31. How to ignore all numpy warnings (not recommended)? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#32-Is-the-following-expressions-true-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.32.</span> <span class="nav-text">32. Is the following expressions true? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#33-How-to-get-the-dates-of-yesterday-today-and-tomorrow-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.33.</span> <span class="nav-text">33. How to get the dates of yesterday, today and tomorrow? (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#34-How-to-get-all-the-dates-corresponding-to-the-month-of-July-2016-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.34.</span> <span class="nav-text">34. How to get all the dates corresponding to the month of July 2016? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#35-How-to-compute-A-B-A-2-in-place-without-copy-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.35.</span> <span class="nav-text">35. How to compute ((A+B)*(-A&#x2F;2)) in place (without copy)? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#36-Extract-the-integer-part-of-a-random-array-of-positive-numbers-using-4-different-methods-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.36.</span> <span class="nav-text">36. Extract the integer part of a random array of positive numbers using 4 different methods (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#37-Create-a-5x5-matrix-with-row-values-ranging-from-0-to-4-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.37.</span> <span class="nav-text">37. Create a 5x5 matrix with row values ranging from 0 to 4 (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#38-Consider-a-generator-function-that-generates-10-integers-and-use-it-to-build-an-array-%E2%98%85%E2%98%86%E2%98%86"><span class="nav-number">1.0.0.38.</span> <span class="nav-text">38. Consider a generator function that generates 10 integers and use it to build an array (★☆☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#39-Create-a-vector-of-size-10-with-values-ranging-from-0-to-1-both-excluded-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.39.</span> <span class="nav-text">39. Create a vector of size 10 with values ranging from 0 to 1, both excluded (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#40-Create-a-random-vector-of-size-10-and-sort-it-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.40.</span> <span class="nav-text">40. Create a random vector of size 10 and sort it (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#41-How-to-sum-a-small-array-faster-than-np-sum-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.41.</span> <span class="nav-text">41. How to sum a small array faster than np.sum? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#42-Consider-two-random-array-A-and-B-check-if-they-are-equal-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.42.</span> <span class="nav-text">42. Consider two random array A and B, check if they are equal (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#43-Make-an-array-immutable-read-only-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.43.</span> <span class="nav-text">43. Make an array immutable (read-only) (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#44-Consider-a-random-10x2-matrix-representing-cartesian-coordinates-convert-them-to-polar-coordinates-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.44.</span> <span class="nav-text">44. Consider a random 10x2 matrix representing cartesian coordinates, convert them to polar coordinates (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#45-Create-random-vector-of-size-10-and-replace-the-maximum-value-by-0-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.45.</span> <span class="nav-text">45. Create random vector of size 10 and replace the maximum value by 0 (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#46-Create-a-structured-array-with-x-and-y-coordinates-covering-the-0-1-x-0-1-area-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.46.</span> <span class="nav-text">46. Create a structured array with x and y coordinates covering the [0,1]x[0,1] area (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#47-Given-two-arrays-X-and-Y-construct-the-Cauchy-matrix-C-Cij-1-xi-yj-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.47.</span> <span class="nav-text">47. Given two arrays, X and Y, construct the Cauchy matrix C (Cij &#x3D;1&#x2F;(xi - yj)) (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#48-Print-the-minimum-and-maximum-representable-value-for-each-numpy-scalar-type-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.48.</span> <span class="nav-text">48. Print the minimum and maximum representable value for each numpy scalar type (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#49-How-to-print-all-the-values-of-an-array-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.49.</span> <span class="nav-text">49. How to print all the values of an array? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#50-How-to-find-the-closest-value-to-a-given-scalar-in-a-vector-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.50.</span> <span class="nav-text">50. How to find the closest value (to a given scalar) in a vector? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#51-Create-a-structured-array-representing-a-position-x-y-and-a-color-r-g-b-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.51.</span> <span class="nav-text">51. Create a structured array representing a position (x,y) and a color (r,g,b) (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#52-Consider-a-random-vector-with-shape-100-2-representing-coordinates-find-point-by-point-distances-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.52.</span> <span class="nav-text">52. Consider a random vector with shape (100,2) representing coordinates, find point by point distances (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#53-How-to-convert-a-float-32-bits-array-into-an-integer-32-bits-in-place"><span class="nav-number">1.0.0.53.</span> <span class="nav-text">53. How to convert a float (32 bits) array into an integer (32 bits) in place?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#54-How-to-read-the-following-file-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.54.</span> <span class="nav-text">54. How to read the following file? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#55-What-is-the-equivalent-of-enumerate-for-numpy-arrays-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.55.</span> <span class="nav-text">55. What is the equivalent of enumerate for numpy arrays? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#56-Generate-a-generic-2D-Gaussian-like-array-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.56.</span> <span class="nav-text">56. Generate a generic 2D Gaussian-like array (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#57-How-to-randomly-place-p-elements-in-a-2D-array-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.57.</span> <span class="nav-text">57. How to randomly place p elements in a 2D array? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#58-Subtract-the-mean-of-each-row-of-a-matrix-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.58.</span> <span class="nav-text">58. Subtract the mean of each row of a matrix (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#59-How-to-sort-an-array-by-the-nth-column-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.59.</span> <span class="nav-text">59. How to sort an array by the nth column? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#60-How-to-tell-if-a-given-2D-array-has-null-columns-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.60.</span> <span class="nav-text">60. How to tell if a given 2D array has null columns? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#61-Find-the-nearest-value-from-a-given-value-in-an-array-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.61.</span> <span class="nav-text">61. Find the nearest value from a given value in an array (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#62-Considering-two-arrays-with-shape-1-3-and-3-1-how-to-compute-their-sum-using-an-iterator-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.62.</span> <span class="nav-text">62. Considering two arrays with shape (1,3) and (3,1), how to compute their sum using an iterator? (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#63-Create-an-array-class-that-has-a-name-attribute-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.63.</span> <span class="nav-text">63. Create an array class that has a name attribute (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#64-Consider-a-given-vector-how-to-add-1-to-each-element-indexed-by-a-second-vector-be-careful-with-repeated-indices-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.64.</span> <span class="nav-text">64. Consider a given vector, how to add 1 to each element indexed by a second vector (be careful with repeated indices)? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#65-How-to-accumulate-elements-of-a-vector-X-to-an-array-F-based-on-an-index-list-I-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.65.</span> <span class="nav-text">65. How to accumulate elements of a vector (X) to an array (F) based on an index list (I)? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#66-Considering-a-w-h-3-image-of-dtype-ubyte-compute-the-number-of-unique-colors-%E2%98%85%E2%98%85%E2%98%86"><span class="nav-number">1.0.0.66.</span> <span class="nav-text">66. Considering a (w,h,3) image of (dtype&#x3D;ubyte), compute the number of unique colors (★★☆)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#67-Considering-a-four-dimensions-array-how-to-get-sum-over-the-last-two-axis-at-once-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.67.</span> <span class="nav-text">67. Considering a four dimensions array, how to get sum over the last two axis at once? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#68-Considering-a-one-dimensional-vector-D-how-to-compute-means-of-subsets-of-D-using-a-vector-S-of-same-size-describing-subset-indices-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.68.</span> <span class="nav-text">68. Considering a one-dimensional vector D, how to compute means of subsets of D using a vector S of same size describing subset  indices? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#69-How-to-get-the-diagonal-of-a-dot-product-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.69.</span> <span class="nav-text">69. How to get the diagonal of a dot product? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#70-Consider-the-vector-1-2-3-4-5-how-to-build-a-new-vector-with-3-consecutive-zeros-interleaved-between-each-value-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.70.</span> <span class="nav-text">70. Consider the vector [1, 2, 3, 4, 5], how to build a new vector with 3 consecutive zeros interleaved between each value? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#71-Consider-an-array-of-dimension-5-5-3-how-to-mulitply-it-by-an-array-with-dimensions-5-5-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.71.</span> <span class="nav-text">71. Consider an array of dimension (5,5,3), how to mulitply it by an array with dimensions (5,5)? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#72-How-to-swap-two-rows-of-an-array-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.72.</span> <span class="nav-text">72. How to swap two rows of an array? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#73-Consider-a-set-of-10-triplets-describing-10-triangles-with-shared-vertices-find-the-set-of-unique-line-segments-composing-all-the-triangles-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.73.</span> <span class="nav-text">73. Consider a set of 10 triplets describing 10 triangles (with shared vertices), find the set of unique line segments composing all the  triangles (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#74-Given-a-sorted-array-C-that-corresponds-to-a-bincount-how-to-produce-an-array-A-such-that-np-bincount-A-C-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.74.</span> <span class="nav-text">74. Given a sorted array C that corresponds to a bincount, how to produce an array A such that np.bincount(A) &#x3D;&#x3D; C? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#75-How-to-compute-averages-using-a-sliding-window-over-an-array-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.75.</span> <span class="nav-text">75. How to compute averages using a sliding window over an array? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#76-Consider-a-one-dimensional-array-Z-build-a-two-dimensional-array-whose-first-row-is-Z-0-Z-1-Z-2-and-each-subsequent-row-is-shifted-by-1-last-row-should-be-Z-3-Z-2-Z-1-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.76.</span> <span class="nav-text">76. Consider a one-dimensional array Z, build a two-dimensional array whose first row is (Z[0],Z[1],Z[2]) and each subsequent row is  shifted by 1 (last row should be (Z[-3],Z[-2],Z[-1]) (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#77-How-to-negate-a-boolean-or-to-change-the-sign-of-a-float-inplace-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.77.</span> <span class="nav-text">77. How to negate a boolean, or to change the sign of a float inplace? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#78-Consider-2-sets-of-points-P0-P1-describing-lines-2d-and-a-point-p-how-to-compute-distance-from-p-to-each-line-i-P0-i-P1-i-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.78.</span> <span class="nav-text">78. Consider 2 sets of points P0,P1 describing lines (2d) and a point p, how to compute distance from p to each line i (P0[i],P1[i])? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#79-Consider-2-sets-of-points-P0-P1-describing-lines-2d-and-a-set-of-points-P-how-to-compute-distance-from-each-point-j-P-j-to-each-line-i-P0-i-P1-i-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.79.</span> <span class="nav-text">79. Consider 2 sets of points P0,P1 describing lines (2d) and a set of points P, how to compute distance from each point j (P[j]) to each line i (P0[i],P1[i])? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#80-Consider-an-arbitrary-array-write-a-function-that-extract-a-subpart-with-a-fixed-shape-and-centered-on-a-given-element-pad-with-a-fill-value-when-necessary-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.80.</span> <span class="nav-text">80. Consider an arbitrary array, write a function that extract a subpart with a fixed shape and centered on a given element (pad with a fill value when necessary) (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#81-Consider-an-array-Z-1-2-3-4-5-6-7-8-9-10-11-12-13-14-how-to-generate-an-array-R-1-2-3-4-2-3-4-5-3-4-5-6-%E2%80%A6-11-12-13-14-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.81.</span> <span class="nav-text">81. Consider an array Z &#x3D; [1,2,3,4,5,6,7,8,9,10,11,12,13,14], how to generate an array R &#x3D; [[1,2,3,4], [2,3,4,5], [3,4,5,6], …, [11,12,13,14]]? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#82-Compute-a-matrix-rank-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.82.</span> <span class="nav-text">82. Compute a matrix rank (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#83-How-to-find-the-most-frequent-value-in-an-array"><span class="nav-number">1.0.0.83.</span> <span class="nav-text">83. How to find the most frequent value in an array?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#84-Extract-all-the-contiguous-3x3-blocks-from-a-random-10x10-matrix-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.84.</span> <span class="nav-text">84. Extract all the contiguous 3x3 blocks from a random 10x10 matrix (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#85-Create-a-2D-array-subclass-such-that-Z-i-j-Z-j-i-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.85.</span> <span class="nav-text">85. Create a 2D array subclass such that Z[i,j] &#x3D;&#x3D; Z[j,i] (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#86-Consider-a-set-of-p-matrices-wich-shape-n-n-and-a-set-of-p-vectors-with-shape-n-1-How-to-compute-the-sum-of-of-the-p-matrix-products-at-once-result-has-shape-n-1-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.86.</span> <span class="nav-text">86. Consider a set of p matrices wich shape (n,n) and a set of p vectors with shape (n,1). How to compute the sum of of the p matrix products at once? (result has shape (n,1)) (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#87-Consider-a-16x16-array-how-to-get-the-block-sum-block-size-is-4x4-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.87.</span> <span class="nav-text">87. Consider a 16x16 array, how to get the block-sum (block size is 4x4)? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#88-How-to-implement-the-Game-of-Life-using-numpy-arrays-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.88.</span> <span class="nav-text">88. How to implement the Game of Life using numpy arrays? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#89-How-to-get-the-n-largest-values-of-an-array-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.89.</span> <span class="nav-text">89. How to get the n largest values of an array (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#90-Given-an-arbitrary-number-of-vectors-build-the-cartesian-product-every-combinations-of-every-item-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.90.</span> <span class="nav-text">90. Given an arbitrary number of vectors, build the cartesian product (every combinations of every item) (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#91-How-to-create-a-record-array-from-a-regular-array-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.91.</span> <span class="nav-text">91. How to create a record array from a regular array? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#92-Consider-a-large-vector-Z-compute-Z-to-the-power-of-3-using-3-different-methods-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.92.</span> <span class="nav-text">92. Consider a large vector Z, compute Z to the power of 3 using 3 different methods (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#93-Consider-two-arrays-A-and-B-of-shape-8-3-and-2-2-How-to-find-rows-of-A-that-contain-elements-of-each-row-of-B-regardless-of-the-order-of-the-elements-in-B-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.93.</span> <span class="nav-text">93. Consider two arrays A and B of shape (8,3) and (2,2). How to find rows of A that contain elements of each row of B regardless of the order of the elements in B? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#94-Considering-a-10x3-matrix-extract-rows-with-unequal-values-e-g-2-2-3-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.94.</span> <span class="nav-text">94. Considering a 10x3 matrix, extract rows with unequal values (e.g. [2,2,3]) (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#95-Convert-a-vector-of-ints-into-a-matrix-binary-representation-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.95.</span> <span class="nav-text">95. Convert a vector of ints into a matrix binary representation (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#96-Given-a-two-dimensional-array-how-to-extract-unique-rows-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.96.</span> <span class="nav-text">96. Given a two dimensional array, how to extract unique rows? (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#97-Considering-2-vectors-A-B-write-the-einsum-equivalent-of-inner-outer-sum-and-mul-function-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.97.</span> <span class="nav-text">97. Considering 2 vectors A &amp; B, write the einsum equivalent of inner, outer, sum, and mul function (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#98-Considering-a-path-described-by-two-vectors-X-Y-how-to-sample-it-using-equidistant-samples-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.98.</span> <span class="nav-text">98. Considering a path described by two vectors (X,Y), how to sample it using equidistant samples (★★★)?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#99-Given-an-integer-n-and-a-2D-array-X-select-from-X-the-rows-which-can-be-interpreted-as-draws-from-a-multinomial-distribution-with-n-degrees-i-e-the-rows-which-only-contain-integers-and-which-sum-to-n-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.99.</span> <span class="nav-text">99. Given an integer n and a 2D array X, select from X the rows which can be interpreted as draws from a multinomial distribution with n degrees, i.e., the rows which only contain integers and which sum to n. (★★★)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#100-Compute-bootstrapped-95-confidence-intervals-for-the-mean-of-a-1D-array-X-i-e-resample-the-elements-of-an-array-with-replacement-N-times-compute-the-mean-of-each-sample-and-then-compute-percentiles-over-the-means-%E2%98%85%E2%98%85%E2%98%85"><span class="nav-number">1.0.0.100.</span> <span class="nav-text">100. Compute bootstrapped 95% confidence intervals for the mean of a 1D array X (i.e., resample the elements of an array with replacement N times, compute the mean of each sample, and then compute percentiles over the means). (★★★)</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yestin-王</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Yestin-wang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Yestin-wang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yestin-王</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">120k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">3:38</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
